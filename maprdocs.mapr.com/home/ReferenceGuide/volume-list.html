volume list

   Lists information about volumes specified by name, path, or filter.

   See the Fields table on the [1]volume page for the fields available to
   filter. See the [2]Filters for more information.

Syntax

   CLI

maprcli volume list
    [ -alarmedvolumes 0|1 ]
    [ -cluster <cluster> ]
    [ -columns <columns> ]
    [ -filter <filter> ]
    [ -limit <limit> ]
    [ -nodes <nodes> ]
    [ -output terse | verbose ]
    [ -sortby <attribute> ]
    [ -start <offset> ]

          Note: For best results, use the -json option when running volume
          list from the command line.

   REST

          Request Type GET
          Request URL
http[s]://<host>:<port>/rest/volume/list[?<parameters>]

Parameters

   Parameter

   Description

   alarmedvolumes

   Specifies whether (1) or not (0) to list alarmed volumes only. Default:
   0

   cluster

   The cluster name on which to run the command.

   columns
   A comma-separated list of fields to return in the query. See the
   [3]Fields table on the volume page.
   Note: When issuing maprcli volume info -columns and marcli volume list
   -columns commands, the column for the volume name is volumename.

   filter

   A filter specifying volumes to list. See [4]Filters for more
   information. Default: none

   limit

   The number of rows to return, beginning at start. Default: 2147483647

   nodes

   A list of nodes. If specified, volume list only lists volumes on the
   specified nodes.

   output

   Specifies whether the output should be terse or verbose. Default:
   verbose
   sortby Specifies one of the following attributes to sort the list of
   volumes by: volumeowner, volumenumreplicas, volumeminreplicas,
   volumerackpath, volumemountdir, volumename, volumequota, volumeused,
   volumequotaadvisory, volumeaename, volumeaetype, volumeschedule,
   volumetype, volumemirrorpercentcomplete, volumesnapshotcount, volumeid,
   volumenamecontainersize, volumelocalpath, volumesnapshotused,
   volumetotalused, volumelogicalused, volumecontainercount,
   volumemirrorschedule, volumeaccesstime,
   volumenamespacecontainernumreplicas,
   volumenamespacecontainerminreplicas, volumerereplicationtimeoutsec,
   volumecriticalrereplicationtimeoutsec, volumecreatetime

   start

   The offset from the starting row according to sort. Default: 0

Fields

   For definitions of the output fields, and short names for use with
   filters, see the [5]Fields table on the volume command [6]page.

Output

   Information about the specified volumes.
{
    "timestamp":1435363624712,
    "timeofday":"2015-06-26 05:07:04.712 GMT-0700",
    "status":"OK",
    "total":14,
    "data":[
        {
            "creator":"mapr",
            "aename":"mapr",
            "aetype":0,
            "numreplicas":"3",
            "minreplicas":"2",
            "nsNumReplicas":"3",
            "nsMinReplicas":"2",
            "enforceMinReplicationForIO":"false",
            "containerAllocationFactor":"0",
            "allowGrant":"true",
            "reReplTimeOutSec":"0",
            "criticalReReplTimeOutSec":"0",
            "replicationtype":"high_throughput",
            "rackpath":"/data",
            "mirrorthrottle":"1",
            "accesstime":"June 25, 2018",
            "readonly":"0",
            "mountdir":"",
            "volumename":"sampleVol",
            "mounted":0,
            "quota":"0",
            "advisoryquota":"0",
            "snapshotcount":"0",
            "logicalUsed":"1",
            "replicatedlogicalused":"1",
            "used":"1",
            "snapshotused":"0",
            "totalused":"1",
            "replicatedtotalused":"0",
            "scheduleid":2,
            "schedulename":"Important data",
            "mirrorscheduleid":0,
            "volumetype":0,
            "mirrortype":3,
            "creatorcontainerid":0,
            "creatorvolumeuuid":"",
            "volumeid":172948486,
            "actualreplication":[
                0,
                100,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ],
            "nameContainerSizeMB":0,
            "nameContainerDataThresholdMB":524288,
            "needsGfsck":false,
            "maxinodesalarmthreshold":"0",
            "maxnssizembalarmthreshold":"0",
            "dbrepllagsecalarmthresh":"0",
            "dbindexlagsecalarmthresh":"0",
            "limitspread":"true",
            "partlyOutOfTopology":0,
            "wireSecurity":0,
            "auditVolume":0,
            "audited":0,
            "forceAudit":0,
            "coalesceInterval":60,
            "enableddataauditoperations":"setattr,chown,chperm,chgrp,getxattr,li
stxattr,setxattr,removexattr,read,write,create,delete,mkdir,readdir,rmdir,create
sym,lookup,rename,createdev,truncate,tablecfcreate,tablecfdelete,tablecfmodify,t
ablecfScan,tableget,tableput,tablescan,tablecreate,tableinfo,tablemodify,getperm
,getpathforfid,hardlink",
            "disableddataauditoperations":"getattr",
            "mirrorSrcVolume":"",
            "mirrorSrcVolumeId":0,
            "mirrorSrcCluster":"",
            "mirrorDataSrcVolume":"",
            "mirrorDataSrcVolumeId":0,
            "mirrorDataSrcCluster":"",
            "lastSuccessfulMirrorTime":0,
            "mirror-percent-complete":0,
            "mirrorId":0,
            "nextMirrorId":0,
            "mirrorstatus":1,
            "numcontainers":"0",
            "fixCreatorId":"false",
            "ReplTypeConversionInProgress":0,
            "creationTime":1524064440329,
            "metricsEnabled":0,
            "SnapshotFailureAlarm":0,
            "MirrorFailureAlarm":0,
            "DataUnderReplicatedAlarm":1435351165700,
            "DataUnavailableAlarm":0,
            "AdvisoryQuotaExceededAlarm":0,
            "QuotaExceededAlarm":0,
            "NoNodesInTopologyAlarm":0,
            "AlmostFullTopologyAlarm":0,
            "FullTopologyAlarm":0,
            "InodesExceededAlarm":0,
            "BecomeMasterStuckAlarm":0,
            "ContainersNonLocalAlarm":0,
            "CannotMirrorAlarm":0,
            "TableIndexLagHighAlarm":0,
            "LargeRowWarning":0,
            "TableIndexEncodingErrorAlarm":0,
            "TableReplicationErrorAlarm":0,
            "TableReplicationLagHighAlarm":0,
            "TableReplicationAsyncAlarm":0,
            "TableIndexErrorAlarm":0
        }
    ]
}

Examples

   List all volumes

   CLI

maprcli volume list -json

   REST

https://10.10.82.23:8443/rest/volume/list

   List the first ten volumes

   The start and limit parameters are useful for windowing the results.
   You can list the first ten volumes, then the next ten, and so on.
     * [7]CLI
     * [8]REST

maprcli volume list -start 0 -limit 10 -json

curl -k -X GET 'https://abc.sj.us:8443/rest/node/list?start=0&limit=10' --user m
apr:mapr

   Filter by aename
     * [9]CLI
     * [10]REST

maprcli volume list -filter '[aename==mapr]' -columns volumeid
volumeid
243256560
139026416
192452723
1
237238261
185847104
83335307
97256251
248672744
206179696
59269298
23746740
155195506
204064014
243050615
175781739
109532950
86259431
161806152
111826621
161383512
42835142
91977453
40523868
246476194
26484100
157091944
184799162
141342643
29373265
153950841
193510550
17691624

curl -k -X GET 'https://abc.sj.us:8443/rest/volume/list?filter=%5Baename%3D%3Dma
pr%5D&columns=volumeid' --user mapr:mapr
{"timestamp":1528315774026,"timeofday":"2018-06-06 01:09:34.026 GMT-0700 PM","st
atus":"OK","total":33,"data":[{"volumeid":243256560},{"volumeid":139026416},{"vo
lumeid":192452723},{"volumeid":1},{"volumeid":237238261},{"volumeid":185847104},
{"volumeid":83335307},{"volumeid":97256251},{"volumeid":248672744},{"volumeid":2
06179696},{"volumeid":59269298},{"volumeid":23746740},{"volumeid":155195506},{"v
olumeid":204064014},{"volumeid":243050615},{"volumeid":175781739},{"volumeid":10
9532950},{"volumeid":86259431},{"volumeid":161806152},{"volumeid":111826621},{"v
olumeid":161383512},{"volumeid":42835142},{"volumeid":91977453},{"volumeid":4052
3868},{"volumeid":246476194},{"volumeid":26484100},{"volumeid":157091944},{"volu
meid":184799162},{"volumeid":141342643},{"volumeid":29373265},{"volumeid":153950
841},{"volumeid":193510550},{"volumeid":17691624}]}

References

   1. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ReferenceGuide/volume.html#volume
   2. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ReferenceGuide/maprcli-REST-API-Syntax-Filters.html#concept_znz_qxz_5t
   3. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ReferenceGuide/volume.html#volume__fields
   4. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ReferenceGuide/maprcli-REST-API-Syntax-Filters.html#concept_znz_qxz_5t
   5. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ReferenceGuide/volume.html#volume__fields
   6. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ReferenceGuide/volume.html
   7. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ReferenceGuide/volume-list.html#div1entry1
   8. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ReferenceGuide/volume-list.html#div1entry2
   9. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ReferenceGuide/volume-list.html#div2entry1
  10. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ReferenceGuide/volume-list.html#div2entry2
