warden.conf

   The file /opt/mapr/conf/warden.conf controls parameters related to MapR
   services and the warden. Most of the parameters are not intended to be
   edited directly by users. The following table shows the parameters of
   interest:
   Note: When defining heapsize values for services, keep in mind that
   service.heapsize.percent is bounded by service.heapsize.min, if
   defined, and service.heapsize.max.

   Parameter

   Sample Value

   Description

   service.command.cldb.heapsize.percent

   8

   The percentage of heap space reserved for the CLDB.

   service.command.cldb.heapsize.max

   4000

   The maximum heap space, specified in MB, that can be used by the CLDB.

   service.command.cldb.heapsize.min

   256

   The minimum heap space, specified in MB, for use by the CLDB.

   service.command.cldb.retryinterval.time.sec

   600

   Specifies an interval in seconds. The warden attempts to restart a
   failed CLDB service when this interval expires.

   service.command.mfs.heapsize.percent

   35

   The percentage of heap space reserved for the MapR-FS. Restart the
   Warden after modifying this setting.
   service.command.mfs.heapsize.maxpercent

   85
   The maximum percentage of heap space that can be allocated to the
   MapR-FS. Restart the Warden after modifying this setting.

   service.command.mfs.heapsize.min

   512

   The minimum heap space, specified in MB, that can be allocated to the
   MapR-FS. Restart the Warden after modifying this setting.

   service.command.webserver.heapsize.percent

   3

   The percentage of heap space reserved for the MapR Control System.

   service.command.webserver.heapsize.max

   750

   The maximum heap space, specified in MB, that can be used by the MapR
   Control System.

   service.command.webserver.heapsize.min

   512

   The minimum heap space, specified in MB, for use by the MapR Control
   System.
   service.command.nfs.heapsize.percent 3 The percentage of heap space
   reserved for the NFS.
   service.command.nfs.heapsize.min 64 The minimum heap space, specified
   in MB, that can be used by the NFS.
   service.command.nfs.heapsize.max 1000 The maximum heap space,specified
   in MB, that can be used by the NFS.

   service.command.os.heapsize.percent

   3

   The percentage of heap space reserved for the operating system.

   service.command.os.heapsize.max

   750

   The maximum heap space, specified in MB, that can be used by the
   operating system.

   service.command.os.heapsize.min

   256

   The minimum heap space, specified in MB, for use by the operating
   system.

   service.nice.value

   -10

   The nice priority under which all services will run.

   zookeeper.servers

   10.250.1.61:5181

   The list of ZooKeeper servers.
   services.memoryallocation.alarm.threshold 95 The maximum amount of
   system memory that services running on the node can use before
   triggering the NODE_ALARM_MEMORY_ALLOCATION_EXCEEDED alarm.

   services.retries

   3

   The number of times the Warden tries to restart a service that fails.

   services.resetretries.time.sec

   3600

   Specifies a time interval in seconds. The services.retries parameter
   sets the number of times that the warden attempts to restart failing
   services within this interval.

   services.retryinterval.time.sec

   1800

   The number of seconds after which the warden will again attempt several
   times to start a failed service. The number of attempts after each
   interval is specified by the parameter services.retries.

   cldb.port

   7222

   The port for communicating with the CLDB.

   mfs.port

   5660

   The port for communicating with the FileServer.

   hoststats.port

   5660

   The port for communicating with the HostStats service.

   kvstore.port

   5660

   The port for communicating with the Key/Value Store.

   mapr.home.dir

   /opt/mapr

   The directory where MapR is installed.

   centralconfig.enabled

   true

   Specifies whether to enable central configuration.

   pollcentralconfig.interval.seconds

   300

   How often to check for configuration updates, in seconds.

   rpc.drop

   false

   Drop outstanding metrics when the queue to send to hoststats is too
   large.

   hs.rpcon

   true

   Whether or not to configure Job Management.

   hs.port

   1111

   Hoststats listening port for Metrics RPC activity.

   hs.host

   localhost

   Hoststats hostname for RPC activity.

   log.retention.time

   864000000

   All .log and .out files in the cluster are kept for a time period
   defined by the value of the log.retention.time parameter in
   milliseconds. The default value is ten days. Restart the Warden after
   changing this value.

   log.retention.exceptions

   Retains the following log files instead of removing them during the log
   file cleanup that occurs every ten days:
   cldb.log,hoststats.log,configure.log,mfs.log-*

   You can modify the list. Partial file names and asterisks are accepted.
   Log files listed as exceptions are retained indefinitely.

   enable.overcommit

   false

   Set this value to true to allow services to start up even if their
   memory demands exceed the memory provided by the node.
   isDB true Specifies if MapR-DB is in use. When this value is false, the
   service.command.mfs.heapsize.percent is set to 20. Do not manually edit
   this value. For more information, see [1]Memory Allocation for Nodes.

   For information on configuration files for additional services, see
   [2]warden.<servicename>.conf.

References

   1. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/AdministratorGuide/MemoryAllocation-Nodes.html#Memory-Allocation-for-Nod-Whenyourunconfigure-d3e67
   2. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ReferenceGuide/wardenservicename.conf.html
