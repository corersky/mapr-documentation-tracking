dump volumeinfo

   Returns information about volumes and the associated containers.

   A volume is a logical unit that allows you to apply policies to a set
   of files, directories, and sub-volumes. Using volumes, you can enforce
   disk usage limits, set replication levels, establish ownership and
   accountability, and measure the cost generated by different projects or
   departments. For more information, see [1]Administering Volumes.

Syntax

   CLI

maprcli dump volumeinfo
    [-cluster <cluster name>]
    -volumename <volume name>

          Note: For best results, use the -json option from the command
          line.

   REST
          N/A

Parameters

   Parameter

   Description

   cluster

   The cluster on which to run the command. If this parameter is omitted,
   the command is run on the same cluster where it is issued. In
   multi-cluster contexts, you can use this parameter to specify a
   different cluster on which to run the command.

   volumename

   The name of the volume. To obtain volume names, use the maprcli volume
   list command.

Output

   The maprcli volume info returns information about the volume and the
   containers associated with that volume. Volume information includes the
   ID, volume name, and replication factor. For each container on the
   specified volume, the command returns information about nodes and
   storage.
# maprcli dump volumeinfo -cluster docs41cluster -volumename mapr.cluster.root -
json
{
    "timestamp":1435363982346,
    "timeofday":"2015-06-26 05:13:02.346 GMT-0700",
    "status":"OK",
    "total":2,
    "data":[
        {
            "VolumeName":"mapr.cluster.root",
            "VolumeId":47274128,
            "VolumeTopology":"/data",
            "VolumeUsedSizeMB":0,
            "VolumeReplication":3,
            "VolumeMinReplication":2,
            "NameSpaceReplication":3,
            "NameSpaceMinReplication":2,
            "ReReplicationTimeOutSec":0,
            "MirrorThrottle":true,
            "AccessTime":"Fri Jun 26 09:38:30 PDT 2015",
            "AuditVolume":"0",
            "Audited":"0",
            "CoalesceInterval":60,
            "limitSpread":true,
            "allowGrant":false
        },
        {
            "ContainerId":2049,
            "Epoch":3,
            "Master":"10.10.100.126:5660-10.10.101.126:5660-172.17.42.1:5660--3-
VALID",
            "ActiveServers":{
                "IP:Port":"10.10.100.126:5660-10.10.101.126:5660-172.17.42.1:566
0--3-VALID"
            },
            "InactiveServers":{

            },
            "UnusedServers":{

            },
            "OwnedSizeMB":"0 MB",
            "SharedSizeMB":"0 MB",
            "LogicalSizeMB":"0 MB",
            "TotalSizeMB":"0 MB",
            "NumInodesInUse":41,
            "Mtime":"Fri Jun 26 13:27:35 PDT 2015",
            "NameContainer":"true",
            "CreatorContainerId":0,
            "CreatorVolumeUuid":""
        }
    ]
}

   Output fields

   Field

   Description

   VolumeName

   The name of the volume.

   VolumeId

   The unique ID number of the volume.

   VolumeTopology

   The volume topology corresponds to the node topology of the rack or
   nodes where the volume resides. By default, new volumes are created
   with a topology of / (root directory). For more information, see
   [2]Volume Topology.

   VolumeUsedSizeMB

   The size on disk (in MB) of the volume.

   VolumeReplication

   The desired replication factor, the number of copies of a volume. The
   default value is 3. The maximum value is 6.

   VolumeMinReplication

   The minimum replication factor, the number of copies of a volume
   (excluding the original) that should be maintained by the MapR cluster
   for normal operation. When the replication factor falls below this
   minimum, writes to the volume are disabled. The default value is 2.

   MirrorThrottle
   Specifies whether mirror throttling is enabled (true) or disabled
   (false). Throttling is set on the source volume and applies to all its
   mirrors. This property was introduced in version 4.0.2.
   AccessTime A value that can be used to determine which volumes are
   accessed regularly. This value is updated every 6 hours with the last
   time that an operation occurred on the volume. The access time is not
   updated for changes to volume properties, creation of a snapshot, or
   synchronization between a volume and a mirror. However, the volume
   access time is updated the first time you upgrade to a MapR version
   that includes this property. This property was introduced in version
   4.0.2.
   limitSpread An internal flag for MapR volumes to control the growth of
   volume in terms of number of containers. When this flag is set, cldb
   tries to limit the number of new containers created depending on the
   present size of volume. If volume size (data in volume) is small, cldb
   tries to reuse space in existing containers to avoid the creation of
   new containers. This helps reduce the wasting of containers IDs in an
   environment that has small volumes.

   ContainerId

   The unique ID number of the container.

   Epoch

   A sequence number that indicates the most recent copy of the container.
   The CLDB uses the epoch to ensure that an out-of-date copy cannot
   become the master for the container.

   Master

   The physical IP address and port number of the master copy. The master
   copy is part of the original copy of the volume.

   ActiveServers

   The physical IP address and port number of each active node on which
   the container resides.

   InactiveServers

   The physical IP address and port number of each inactive node on which
   the container resides.

   UnusedServers

   The physical IP address and port number of servers from which no
   "heartbeat" has been received for quite some time.

   OwnedSizeMB

   The size on disk (in MB) dedicated to the container.

   SharedSizeMB

   The size on disk (in MB) shared by the container.

   LogicalSizeMB

   The logical size on disk (in MB) of the container.

   TotalSizeMB

   The total size on disk (in MB) allocated to the container. Combines the
   Owned Size and Shared Size.

   Mtime

   Indicates the time of the last modification to the contents of the
   container.

   NameContainer

   Indicates if the container is the name container for the volume. If
   true, the container is the volume's first container and replication
   occurs simultaneously from the master to the intermediate and tail
   containers.
   CreatorContainerId The container ID of the read-write container. The
   container Id is retained in all mirrors of that containers (in all
   mirrors of volume). The container ID enables the identification of the
   correct containers to source from when mirror sources are changed in a
   mirror chain.
   CreatorVolumeUuid A randomly generated unique ID that is shared by all
   mirrors of a volume and all containers of them. It is used to avoid
   undesirable chaining of containers when mirror sources are changed in a
   mirror chain.

Example

   CLI

maprcli dump volumeinfo -volumename mapr.cluster.root -json

References

   1. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/AdministratorGuide/c_managing_data_with_volumes.html
   2. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/AdministratorGuide/SettingUpNodeTopology.html
