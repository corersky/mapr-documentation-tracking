dbshell delete

Description

   The dbshell delete command is used to delete a single JSON document. To
   delete a document, specify the path of the table where the document is
   located and the ID of the document. Deletes of documents are based
   based on row-key. If the condition evaluates to true, the row is
   deleted. If the operation fails or an exception is thrown, an error
   message is displayed at the terminal.

Parameters

   delete Options Description
   *, --t, --table (Required) Table path
   --id (Required) Document ID to delete
   Note: Repeating _ids with a switch and within a condition payload is
   not allowed.
   --c, --where Condition in JSON format. See [1]JSON Document Query
   Conditions Using OJAI Syntax for a description of the syntax.

Syntax

delete <table path> --id <row-key> --c <condition>

Example: Delete a Document if a Condition is Met

   The following example deletes the document with the _id id1 and the
   condition (a.b[0].boolean == false && (a.c.d != 5 || a.b[1].decimal >
   1)):
delete /tbl --id id1
    --c {
        "$and":[
            {"$eq":{"a.b[0].boolean":false}},
            {"$or":[
                {"$ne":{"a.c.d":5}},
                {"$gt":{"a.b[1].decimal":1}}
            ]}
        ]}

Example: Delete a Document

   The following example deletes a document from the movies table:
delete /data/movies --id movie0000002

References

   1. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/MapR-DB/JSON_DB/QueryingJSONDocumentFields.html#QueryingJSONDocumentFields
