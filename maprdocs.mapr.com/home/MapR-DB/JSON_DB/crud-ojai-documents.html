Managing JSON Documents

   This section describes how to perform CRUD operations (create, query,
   update, and delete) on JSON documents in MapR-DB JSON tables using the
   OJAI API.

   You can also perform these operations using [1]MapR-DB Shell (JSON
   Tables).

Document

   You can use the Document interface to create JSON documents. See
   [2]Creating JSON Documents in OJAI for a description of how to do this
   as well as other alternatives.

   See the following for a list of supported methods in the class:
     * [3]Java

   [4]Document

DocumentStore

   Once you have a Document object, you can pass it to the DocumentStore
   interface and call methods to perform these tasks:
     * Delete documents from tables
     * Increment numeric values in documents
     * Insert documents into tables
     * Replace documents in tables

   See the following for a list of supported methods:
     * [5]Java

   [6]DocumentStore

   You can also use the DocumentStore interface to run queries. See
   [7]Querying in OJAI Applications for details.
   Note: By default, OJAI implements non-buffered writes. If you desire
   buffered writes, use the ojai.mapr.documentstore.buffer-writes option
   and with the Document object. This option is available with the MapR
   OJAI driver. See [8]Enabling Buffered Writes for more information.

DocumentMutation

   To make changes to JSON documents, create a DocumentMutation object. A
   DocumentMutation allows you to perform OJAI mutations. [9]Using OJAI
   Mutation Syntax describes the types of mutations you can perform. See
   [10]Examples: Updating JSON Documents for a sample program.
     * [11]Java

   To create a DocumentMutation object, call the methods in the
   DocumentMutation class corresponding to the mutation operations you
   want to perform. See [12]DocumentMutation for a list of available
   methods.

   Pass the DocumentMutation object to either the
   [13]DocumentStore.checkAndMutate or [14]DocumentStore.update method to
   apply the changes to the document. The first method accepts a
   [15]QueryCondition parameter that must evaluate to true for the
   mutation to be applied. Both methods have an _id parameter
   corresponding to the document to be updated.

   By default, the default maximum size of a JSON document is 32 MB. A
   DocumentMutation does not enforce this limit. MapR-DB enforces the
   limit when you pass your DocumentMutation object to the DocumentStore
   method. See [16]JSON Document Size for information about how to
   increase this limit.

References

   1. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ReferenceGuide/mapr_dbshell.html#mapr_dbshell
   2. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/MapR-DB/JSON_DB/creating_documents_with_maprdb_ojai_java_api_.html#creating_documents_with_maprdb_ojai_java_api_
   3. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/MapR-DB/JSON_DB/crud-ojai-documents.html#div1entry1
   4. https://maprdocs.mapr.com/apidocs/60/OJAI/org/ojai/Document.html
   5. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/MapR-DB/JSON_DB/crud-ojai-documents.html#div2entry1
   6. https://maprdocs.mapr.com/apidocs/60/OJAI/org/ojai/store/DocumentStore.html
   7. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/MapR-DB/JSON_DB/QueryingWithOJAI.html#querying_documents_with_maprdb_ojai_java_api_
   8. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/MapR-DB/JSON_DB/ojai-nonBuffered-writes.html
   9. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/MapR-DB/JSON_DB/OJAIDocumentMutationSyntax.html#OJAIDocumentMutationSyntax
  10. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/MapR-DB/JSON_DB/update-document.html#reference_d41_2qy_41b
  11. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/MapR-DB/JSON_DB/crud-ojai-documents.html#div3entry1
  12. https://maprdocs.mapr.com/apidocs/60/OJAI/org/ojai/store/DocumentMutation.html
  13. https://maprdocs.mapr.com/apidocs/60/OJAI/org/ojai/store/DocumentStore.html#checkAndMutate-java.lang.String-org.ojai.store.QueryCondition-org.ojai.store.DocumentMutation-
  14. https://maprdocs.mapr.com/apidocs/60/OJAI/org/ojai/store/DocumentStore.html#update-java.lang.String-org.ojai.store.DocumentMutation-
  15. https://maprdocs.mapr.com/apidocs/60/OJAI/org/ojai/store/QueryCondition.html
  16. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/MapR-DB/JSON_DB/ojai_documents.html#ojai_documents__section_kfl_byf_pdb
