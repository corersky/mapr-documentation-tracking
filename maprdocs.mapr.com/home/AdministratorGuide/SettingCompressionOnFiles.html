Setting Compression on Files

   Compression is set at the directory level. Any files written by a
   Hadoop application, whether via the file APIs or over NFS, are
   compressed according to the settings for the directory where the file
   is written. Sub-directories on which compression has not been
   explicitly set inherit the compression settings of the directory that
   contains them.

   If you change a directory's compression settings after writing a file,
   the file will keep the old compression settingsâ€”that is, if you write a
   file in an uncompressed directory and then turn compression on, the
   file does not automatically end up compressed, and vice versa. Further
   writes to the file will use the file's existing compression setting.
   Warning: Only the owner of a directory can change its compression
   settings or other attributes. Write permission is not sufficient.
