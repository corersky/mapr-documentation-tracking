Preparing Clusters for Stream Replication

   Configuring clusters for participation in the replication of MapR-ES
   streams involves configuring two or more gateways on destination
   clusters and, if the clusters are secure, setting up secure
   communications between the clusters.
     * Plan which replication topology you want to use: basic
       master-slave, multi-master, or a combination of these. For more
       information about replication topologies, see [1]Stream
       Replication.
     * Ensure that you have administrative authority on the clusters that
       you plan to use.
     * Replicating streams requires the installation of gateways. For more
       information about installation requirements, see [2]Service Layout
       Guidelines for Replication

   To configure clusters for replication between streams:
    1. In the mapr-clusters.conf file on every node in your source
       cluster, add an entry that lists the CLDB nodes that are in the
       destination cluster.
       Note:
       This step is required so that the source cluster can communicate
       directly with the destination cluster's CLDB nodes. See
       [3]mapr-clusters.conf for the format to use for the entries.
    2. Configure gateways on the destination clusters.
       See [4]Configuring Gateways for Table and Stream Replication.
    3. For secure clusters: Optionally, configure source clusters so that
       you can locally run maprcli commands that are executed on the
       destination cluster.
       See [5]Configuring Secure Clusters for Running Commands Remotely.
    4. For secure clusters: Add one cross-cluster ticket to each source
       cluster for each cluster that it replicates to.
       See [6]Configuring Secure Clusters for Cross-Cluster Mirroring and
       Replication.
    5. Ensure that the user ID of the person who starts the replication
       process has the readAce permission on the volume where the source
       streams are located and the writeAce permission on the volumes
       where the replica streams are located. For information about how to
       set permissions on volumes, see [7]Setting Whole Volume ACEs.

References

   1. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/MapR_Streams/replicating_streams.html#replicating_streams
   2. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/AdvancedInstallation/PlanningtheCluster-services-layout-replication.html#concept_qyc_mjk_yz
   3. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ReferenceGuide/mapr-clusters.conf.html
   4. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/Gateways/ConfiguringMapRGatewaysForTRAndI.html#task_clg_ywy_5t
   5. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/SecurityGuide/RunningCommandsOnRemoteSecureClusters.html#RunningCommandsonRemoteSe_28220824-d3e79
   6. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/SecurityGuide/AddingCross-ClusterTickets.html#AddingCross-ClusterTicket_28220813-d3e196
   7. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/SecurityGuide/SetEditVolumeDataACE.html
