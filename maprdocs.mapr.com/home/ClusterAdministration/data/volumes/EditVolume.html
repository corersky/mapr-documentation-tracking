Modifying a Volume

   You can edit a volume through MCS and using the CLI.

Modifying a Volume Using the MapR Control System

   To modify a volume:
    1. Log in to MCS and go to the [1]volume information page.
    2. Click Edit Volume to display the Edit Volume page.
    3. Modify one or more of the following general, auditing, and
       replication settings:
          + [2]Standard Volume
          + [3]Mirror Volume

   SETTINGS Accountable Entity The entity accountable for the volume’s
   usage.
   Volume Access Indicates whether volume is a read-only or read/write
   volume.
   Topology The location of this volume in the cluster rack topology.
   AUDITING Audit Indicates whether auditing of operations on directories,
   files, and tables in the volumes is enabled.
   Coalesce Interval Interval of time used when logging multiple instance
   of an operation on a node from a client IP, if auditing is enabled.
   REPLICATION Replication Desired and minimum number of copies of the
   volumes.
   Name Container Replication Desired and minimum number of copies of the
   name container associated with the volumes.
   Guarantee Min Replication (Available from v6.0.1) Specifies whether
   (true) or not (false) to enforce minimum number of copies for the
   (read-write) volume. If this is enabled (Yes), writes succeed only when
   the minimum number of copies exist.

   Note: If this parameter was not already set on a volume or if you
   modify the setting for this property from No to Yes, restart all the
   nodes where the containers associated with the volume exist for the
   changes to take effect.

   SETTINGS Source Cluster Name The name of the cluster on which the
   source volume exists.
   Source Volume Name The name of the source volume to mirror.
   Accountable Entity The entity accountable for this volume’s usage.
   Topology The location of this volume in the cluster rack topology.
   AUDITING Audit Specifies whether auditing of operations on directories,
   files, and tables in the volumes is enabled.
   Coalesce Interval Interval of time used when logging multiple instance
   of an operation on a node from a client IP, if auditing is enabled.
   REPLICATION Replication Desired and minimum number of copies of the
   volumes.
   Name Container Replication Desired and minimum number of copies of the
   name container associated with the volumes.
   Guarantee Min Replication (Available from v6.0.1) Specifies whether
   (Yes) or not (No) to enforce minimum number of copies for the
   (read-write) volume. If this is enabled (Yes), writes succeed only when
   the minimum number of copies exist.

   Note: If this parameter was not already set on a volume or if you
   modify the setting for this property from No to Yes, restart all the
   nodes where the containers associated with the volume exist for the
   changes to take effect.
    4. Make changes as needed to volume access.

   ADMINISTRATIVE CONTROLS Users and groups that have permissions to
   perform administrative operations on this volume. To:
          + Modify access to existing users, select or deselect
            permissions.
          + Grant access to another user, click Add Another, enter the
            user name, and select permissions to grant to the user.

   USER ACCESS CONTROLS Specifies public or the users, groups, and/or
   roles that have and/or do not have access to read from and/or write to
   this volume.

   To grant or block access to users, groups, and/or roles, from the:
          + Basic settings, select the type — public, (OR) user, group, or
            role — from the drop-down menu, specify the name of the user,
            group, or role, and select one or more checkbox to grant
            permissions.
            Tip: Click [cloneACE.png] to create a copy of the associated
            access control setting. Click [deleteRow.png] to remove the
            associated access control expression.
            To add access control expressions for another user, group, or
            role, click Add Another and repeat this step.
          + Advanced settings, or specify public (p) or user (u), group
            (g), and/or role (r) who have and/or do not have the type of
            access using the following boolean expressions and
            subexpressions:
               o ! — Negation operator.
               o & — AND operation.
               o | — OR operation.
            Use (), parentheses, for subexpressions.
            Note: You cannot specify user, group, or role individually if
            access is granted to all users (public).
            Alternatively, click [editPencil.png] associated with the type
            of access to use the Access Control Expression window to
            define access for public or users, group, and/or role. See
            [4]Defining ACEs for more information.

   Note: If you switch from Basic to Advanced, the basic settings, if any,
   will be carried over to the advanced settings. If you switch from
   Advanced to Basic, all the settings will be lost because the
   subexpressions and AND (&) and negation (!) operations that are
   supported by advanced settings are not supported in the basic settings.
    5. (Optional) Modify volume quota as needed.

   Volume Advisory Quota Allocated disk space, which when exceeded raises
   an alarm but does not prevent writes.
   Volume Hard Quota Allocated disk space, which when exceeded prevents
   further writes.
    6. (Optional) Add or modify schedule(s) as needed.
          + [5]Standard Volume
          + [6]Mirror Volume

       Snapshot Schedule Schedule for creating snapshots of the volume.

   Snapshot Schedule Schedule for creating snapshots of this volume.
   Mirror Schedule Schedule for automatically synchronizing (mirroring)
   this volume with the source volume.
    7. Click Save Changes for the changes to take effect.

Modifying a Volume Using the CLI or REST API

   The basic command to modify a volume is:
maprcli volume modify -name <volume name>

   For complete reference information including supported options, see
   [7]volume modify.

References

   1. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ClusterAdministration/data/volumes/ViewVolInfo.html
   2. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ClusterAdministration/data/volumes/EditVolume.html#div1entry1
   3. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ClusterAdministration/data/volumes/EditVolume.html#div1entry2
   4. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ClusterAdministration/data/ACE-Builder.html
   5. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ClusterAdministration/data/volumes/EditVolume.html#div2entry1
   6. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ClusterAdministration/data/volumes/EditVolume.html#div2entry2
   7. file://localhost/root/docsync/tmp/maprdocs.mapr.com/home/ReferenceGuide/volume-modify.html#volumemodify
