Hive 1.2.1-1703 Release Notes

   Below are release notes for the Hive component included in the MapR
   Converged Data Platform. You may also be interested in the [1]Apache
   Hive 1.2.1 changelog or the [2]Apache Hive homepage.
   Hive Version 1.2.1
   Release Date April 2017
   MapR Version Interoperability See [3]Hive and HCatalog Support Matrix,
   [4]Ecosystem Support Matrix (Pre-5.2 releases), and [5]MEP Components
   and OS Support
   Source on GitHub [6]https://github.com/mapr/hive/tree/1.2.0-mapr-1703^*
   Maven Artifacts [7]http://repository.mapr.com/maven/
   Package Names See [8]Package Names for MapR Ecosystem Packs (MEPs)

   ^* Although the version number in the GitHub source URL is 1.2.0, the
   content in GitHub applies to MapR Hive 1.2.1

Feature Support

   MapR does not support Hive on Spark. Therefore, you cannot use Spark as
   an execution engine for Hive. However, you can run Hive and Spark on
   the same cluster. You can also use Spark SQL and Drill to query Hive
   tables.

Patches

   This release by MapR includes the following patches on the base Apache
   release. For complete details, refer to the commit log for this project
   in GitHub.
   Commit Date (YYYY-MM-DD) Comment
   8552714 2017-03-03 MAPR-26326: The static variable didRegisterAllFuncs
   was used in static block before it was initialized, which returned a
   NPE. This is now fixed.
   7f25cad 2017-02-13 MAPR-26108: The issue that caused Hive 1.2 to fail
   after installation and service restart is now fixed.
   a09b18d 2017-02-08 MAPR-26059: The incorrect import in Hive junit tests
   is now fixed.
   fe4d980 2017-02-08 MAPR-25227: Backported Apache Hive JUnit tests to
   Hive 1.2.
   0628470 2017-01-25 MAPR-25845: Set scope is now 'provided' for Avro JAR
   files in Hive.
   This release by MapR includes the following backported issues. For
   complete details, refer to the commit log for this project in GitHub.
   Commit Date (YYYY-MM-DD) Comment
   ee73def 2016-07-15 HIVE-14004: The issue that caused minor compaction
   to return ArrayIndexOutOfBoundsException is now fixed.
   c7632c6 2016-03-09 HIVE-13216: When opening a malformed ORC file, the
   issue with ORC Reader leaving file open until GC is now fixed.
   84540a1 2015-07-02 HIVE-11102: The issue that caused ORC reader to not
   correctly estimate the size of ACID data files is now fixed.
   f2ad544 2015-08-18 HIVE-11429: The default JDBC result set fetch size
   (# rows it fetches in one RPC call) has been increased to 1000 (from
   50).
   b7efd1a 2015-10-14 HIVE-11499: Datanucleus will no longer cache
   classloaders and cause UDFs to permgen leaks.
   7a84fd2 2015-11-13 HIVE-11718: Hive JDBC ResultSet.setFetchSize(0) will
   now return the fetch size.
   af87c41 2015-10-20 HIVE-11721: The issue that caused non-ascii
   characters to not work is now fixed.
   0c99222 2015-10-23 HIVE-11901: Hive StorageBasedAuthorizationProvider
   will no longer require write permission on table for SELECT statements.
   383e162 2015-09-26 HIVE-11950: WebHCat status file will now show UTF8
   characters.
   335a188 2015-09-28 HIVE-11977: The issue that caused Hive queries on
   the table to fail when there was a zero length file with an external
   avro table in the top level directory is now fixed.
   1eac0eb 2015-12-01 HIVE-12182: The ALTER TABLE PARTITION COLUMN command
   will no longer ignore partition column comments.
   ba7a7f8 2015-11-12 HIVE-12365: The issue that caused resource paths,
   which were removed externally, to be sent to cluster as empty strings
   resulting in query failures is now fixed.
   09c0a0e 2015-12-03 HIVE-12444: The issue that caused Global Limit
   optimization on ACID table (without base directory) to throw exception
   is now fixed.
   09738e8 2015-12-04 HIVE-12505: The issue that caused insert overwrite
   command in same encrypted zone to fail to remove some existing files
   (resulting in incorrect results) is now fixed.
   fb91540 2016-01-11 HIVE-12660: The issue that caused HS2 memory leak
   when used with .hiverc file is now fixed.
   109b049 2016-01-05 HIVE-12664: The issue that caused the optimization
   check for reduce deduplication to only check the first child node for
   join (resulting in an exception) is now fixed.
   1240255 2016-01-19 HIVE-12682: The issue that caused reducers in
   dynamic partitioning job to spend a lot of time running
   hadoop.conf.Configuration.getOverlay is now fixed.
   a4de686 2016-03-10 HIVE-13144: The issue that caused HS2 to leak ZK ACL
   objects when the curator retried to create the persistent ephemeral
   node, which was deleted from ZK, is now fixed.
   6d505ae 2016-02-26 HIVE-13160: When HMS was not ready, the issue that
   caused HS2 to not load UDFs on startup is now fixed.
   f0cb6ee 2016-05-27 HIVE-13561: The issue that caused HiveServer2 to
   leak ClassLoaders when adding a JAR file is now fixed.
   b824995 2016-07-13 HIVE-14210: ExecDriver will now call:
     * SSLFactory truststore reloader threads leaking in HiveServer2
     * jobclient.close() function to trigger the clean up of resources
       after the submitted job completes.

   7263210 2016-07-21 HIVE-14282: The issue that caused HCatLoader
   ToDate() function to throw exception when filtering hive partition
   table by column of DATE datatype is now fixed.
   f64f098 2016-07-28 HIVE-14349: UDFLike LIKE -> Regex conversion will
   now anchor the regexes making the vectorized LIKE use matches().
   75292a5 2016-11-01 HIVE-15099: The issue that caused
   PTFOperator.PTFInvocation to throw a NPE when the inputPart was not
   properly reset is now fixed.
   f5ae95d 2016-12-13 HIVE-13452: StatsOptimizer will not return any rows
   on empty table with group by.
   a7b6ab5 2016-11-19 HIVE-15247: The purge option for drop table will now
   be passed to storage handlers to give the storage handler more control
   on how to handle drop table.
   71f90d7 2016-08-10 HIVE-14436: The Hive query run with mapReduce engine
   with hive.optimize.skewjoin set to true will no longer fail with an
   exception.
   8f113da 2016-08-10 HIVE-13754: The issue that caused users reference
   count to go into negative values preventing tearDownIfUnused from
   closing the client connection when called and resulting in resource
   leak in HiveClientCache is now fixed.
   7ff1638 2016-09-03 HIVE-10809: The issue that caused HCat
   FileOutputCommitterContainer to leave behind empty _SCRATCH directories
   when static partition was added through HCatStorer or HCatWriter is now
   fixed.
   28140c9 2016-06-28 HIVE-14113: The issue that caused create function to
   fail, but show function to show the failed create function in the
   function list is now fixed.
   9676bb0 2015-07-08 HIVE-11201: The issue that caused HCatalog to ignore
   user specified avro schema in the table definition, but generate its
   own avro based on Hive metastore is now fixed.
   73736a4 2015-11-20 HIVE-12450: The issue that caused
   OrcFileMergeOperator to not use correct compression buffer size, but
   the default 256KB that the output file honored, is now fixed.
   9844138 2016-02-18 HIVE-13021: The issue that caused
   GenericUDAFEvaluator.isEstimable(agg) to always returns false is now
   fixed.

References

   1. https://issues.apache.org/jira/secure/ReleaseNote.jspa?version=12332384&styleName=Html&projectId=12310843&Create=Create&atl_token=A5KQ-2QAV-T4JA-FDED%7C5df40734d848a7c2f96f2768cb679f4f04c0e97b%7Clout
   2. http://hive.apache.org/
   3. file://localhost/root/docsync/tmp/mapr.com/docs/home/InteropMatrix/r_hive_hcat_matrix.html#reference_zfq_nsb_t5
   4. file://localhost/root/docsync/tmp/mapr.com/docs/home/InteropMatrix/r_eco_matrix.html#reference_kyp_kfv_s5
   5. file://localhost/root/docsync/tmp/mapr.com/docs/home/InteropMatrix/r_MEP_components.html
   6. https://github.com/mapr/hive/tree/1.2.0-mapr-1703
   7. http://repository.mapr.com/maven/
   8. file://localhost/root/docsync/tmp/mapr.com/docs/home/EcosystemRN/MEPPkgNames.html#concept_zkc_jlh_hy
