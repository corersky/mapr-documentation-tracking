Hive 2.1.1-1707 Release Notes

   This section provides reference information, including new features,
   patches, known issues, and limitations for Hive 2.1-1703.

   Below are release notes for the Hive component included in the MapR
   Converged Data Platform. You may also be interested in the [1]Apache
   Hive 2.1.1 Release Notes or the [2]Apache Hive homepage.
   Hive Version 2.1
   Release Date August 2017
   MapR Version Interoperability See [3]Hive and HCatalog Support Matrix
   and [4]Ecosystem Support Matrix
   Source on GitHub [5]https://github.com/mapr/hive/tree/2.1.1-mapr-1707
   Maven Artifacts See [6]Maven Artifacts for MapR.
   Package Names See [7]Package Names for MapR Expansion Packs (MEPs)

New in this Release

   No new features in this release.

Patches

   This release by MapR includes the following patches on the base Apache
   release. For complete details, refer to the commit log for this project
   in GitHub.
   Commit Date (YYYY-MM-DD) Comment
   6044467 2017-07-12 MAPR-28346: The issue that caused permission related
   errors when Hive CLI was executed by a user other than the mapr user is
   now fixed.
   d16c24d 2017-07-07 MAPR-28251: The issue that caused errors while
   inserting data into partitioned table on Kerberos is now fixed.
   0168f6c 2017-06-20 MAPR-27941: The issue that caused Hive on Tez mode
   to not launch when hive.aux.jars.path was set is now fixed.
   9ffd14d 2017-06-19 MAPR-27477: The issue that caused an exception from
   MapR file system when hive.warehouse.subdir.inherit.perms was set to
   true and user, who was not a member of parent owner group, was creating
   the DB on Hive is now fixed.
   b6e34d6 2017-06-14 MAPR-27799: The issue that caused Hive DROP DATABASE
   query to throw exceptions in the logs is now fixed.
   78cb4a6 2017-06-13 MAPR-27646: The issue that caused Hive to duplicate
   column comments while passing information about partitions to Partition
   object FieldSchema object is now fixed.
   271f527 2017-06-08 MAPR-27613: The issue that caused an exception when
   querying table using HiveServer2 is now fixed.
   31940a3 2017-05-24 MAPR-27072: The issue that caused RowContainer.tmp
   to be written to the local filesystem and not the local volume is now
   fixed.
   0eb653e 2017-06-01 MAPR-22115: The issue that caused Hive to prompt for
   username and password when using MapR SASL and Kerberos for
   authentication is now fixed.
   6aad8e3 2017-05-24 MAPR-27033: The issue that caused Datanucleus
   MSSQLServerAdapter to generate incorrect syntax for OFFSET-FETCH clause
   when working with MS SQL SERVER that is greater than or equal to 2012
   is now fixed.
   e44cf88 2017-05-25 MAPR-27427: The issue that caused Hive parser to
   ignore comments when the line started with two dashes (--) is now
   fixed.
   a894d68 2017-05-15 MAPR-27308: The issue that caused some queries with
   multiple inserts to fail in Hive 2.1 is now fixed.
   2136184 2017-05-18 MAPR-27175: The issue that caused write-permission
   error when users from group different from table owner tried to write
   to table is now fixed. With this fix, the default configuration for log
   destination has been changed to use the home directory allowing each
   user to have separate log file.
   7abb218 2017-05-26 MAPR-27483: The mismatch in hive and hbase in the
   result returned when counting number of records when there were NULL
   fields is now fixed by a new property, hive.read.all.hbase.column,
   which when set to:
     * true will allow Hive to read all columns from HBase table.
     * false may cause Hive to ignore null fields when counting number of
       records.

   6f824be 2017-05-19 MAPR-27234: The issue that caused Hive on Tez
   queries to MapR Database to fail is now fixed.
   b016f63 2017-04-20 MAPR-HIVE-10: HiveServer2 PAM configuration is now
   consistent with MapR PAM configuration.
   d521948 2017-04-20 MAPR-HIVE-23: The issue that cause
   hive.warehouse.subdir.inherit.perms property to not work with CTAS
   query is now fixed.
   87dc95d 2017-04-10 MAPR-23637: The issue that caused Hive Server
   Dynamic Service Discovery to not work in secure MapR SASL cluster is
   now fixed.
   ea5c811 2017-03-29 MAPR-26678: Hive now includes hplsql-site.xml file
   for HPL/SQL.
   944eafb 2017-03-30 MAPR-HIVE-6: Incorrect implementation of HiveServer2
   Authentication is now fixed.

   This release by MapR includes the following backported issues. For
   complete details, refer to the commit log for this project in GitHub.
   Commit Date (YYYY-MM-DD) Comment
   9ffd14d 2017-07-19 HIVE-11166: The issue that caused an exception when
   executing an insert into SQL statement on a HBase table with
   HBaseStorageHandler in HDBCServer of Spark is now fixed.
   67d3b3c 2017-05-25 HIVE-15627: The hive.vectorized.adaptor.usage.mode
   will now vectorize all UDFs and not just those in supportedGenericUDFs.
   2874bed 2017-05-24 HIVE-15361: The issue that caused INSERT dynamic
   partition on S3 to fail with a MoveTask failure is now fixed.
   901d5cf 2017-05-24 HIVE-16161: The packaging.minimizeJar is now
   disabled for JDBC build to allow the standalone JDBC jar to have the
   necessary classes.
   e6eff5d 2017-05-24 HIVE-16160: The issue that caused OutOfMemoryError
   when GC overhead limit exceeded on HiveServer2 is now fixed.
   d35291b 2017-05-24 HIVE-15866: The issue that cause
   LazySimpleDeserializeRead to not recognize lower case variant is now
   fixed.
   49e3fdb 2017-05-24 HIVE-15848: The issue that caused count or sum
   distinct to be incorrect when hive.optimize.reduce deduplication was
   set to true is now fixed.
   ac2d7b4 2017-05-23 HIVE-15754: The issue that caused exchange partition
   event to not generate notifications in notification_log is now fixed.
   7ab50ee 2017-05-22 HIVE-15731: The issue that caused interrupt status
   on thread to not return sessions to the sessionPool is now fixed.
   0a28540 2017-05-22 HIVE-15684: Fixed the posBigTable used in
   VectorMapJoinOuterFilteredOperator to prevent IndexOutOfBoundsException
   error.
   2f3120e 2017-05-22 HIVE-15519: The issue that caused Hive decimal type
   column precision to return zero even when column has precision set is
   now fixed.
   108da0e 2017-05-22 HIVE-15493: The issue that caused wrong result for
   LEFT outer join in Tez using MapJoinOperator is now fixed.
   9ca0a75 2017-05-22 HIVE-15488: The issue that caused native Vector
   MapJoin to fail when trying to serialize BigTable rows with
   (unreferenced) complex types is now fixed.
   bb191d5 2017-05-22 HIVE-15327: The issue that caused outerjoin to
   produce wrong results depending on joinEmitInterval value is now fixed.
   6e9051b 2017-05-22 HIVE-16043: The TezConfiguration.TEZ_QUEUE_NAME will
   now be used instead of tez.queue.name.
   b0b3de3 2017-05-22 HIVE-15421: The exception handling in
   DagUtils.localizeResource is now fixed to fail early with different
   messages for different failures.
   3bcd439 2017-05-22 HIVE-14060: The localhost is now removed from Hive
   splits to allow for the allocation of "*" containers instead of waiting
   for heartbeat.
   0e663e7 2017-05-18 HIVE-15199: The issue that caused INSERT INTO data
   on S3 to replace the old rows with new ones is now fixed.
   4a7cad3 2017-05-18 HIVE-15236: The timestamp and date comparison will
   now happen in timestamp instead of string.
   87c33cc 2017-05-18 HIVE-14804: The issue that caused HPLSQL with
   multiple DB connections to not switch back to Hive is now fixed.
   cd962e7 2017-05-18 HIVE-14706: The issue that caused column level
   lineage information to be returned as null is now fixed.
   0b92a71 2017-05-18 HIVE-14607: The issue that caused ORC split
   generation to fail with IndexOutOfBoundsException is now fixed.
   f2e3348 2017-05-18 HIVE-14336: VectorUDFAdaptor can now be configured
   to specify whether to attempt vectorization using
   hive.vectorized.adaptor.usage.mode property (whose value can be none,
   chosen, all) in HiveConf.java file.
   8d5844f 2017-05-18 HIVE-13966: The HiveConf.java file now contains the
   following new properties to prevent DbNotificationListener from losing
   DDL operation notifications:
     * hive.metastore.transactional.event.listeners
     * hive.metastore.event.listeners

   70785cf 2017-05-18 HIVE-13403: The issue that caused StreamingAPI to
   create empty buckets is now fixed.
   84d3193 2016-08-25 HIVE-15331: The issue that caused decimal
   multiplication with high precision/scale to often return NULL is now
   fixed.

Feature Support

     * MapR supports Hive-2.1.1 on Tez-0.8.4.
     * MapR does not support Hive on Spark. Therefore, you cannot use
       Spark as an execution engine for Hive. However, you can run Hive
       and Spark on the same cluster. You can also use Spark SQL and Drill
       to query Hive tables.
     * MapR does not support HDFS encryption in Hive tables.
     * MapR does not support Hbase-0.9X with Hive-2.1.1. Only Hbase-1.X is
       compatible with Hive-2.1.1.
     * MapR does not support LLAP with Hive-2.1.1 since Apache Slider is
       not in MapR ecosystem.
     * Starting from Hive 2.1, Hive needs to run the schematool command as
       an initialization step.

Resolved Issues

   None.

References

   1. https://issues.apache.org/jira/secure/ReleaseNote.jspa?version=12335838&styleName=Text&projectId=12310843
   2. http://hive.apache.org/
   3. file://localhost/root/docsync/tmp/mapr.com/docs/home/InteropMatrix/r_hive_hcat_matrix.html#reference_zfq_nsb_t5
   4. file://localhost/root/docsync/tmp/mapr.com/docs/home/InteropMatrix/r_eco_matrix.html#reference_kyp_kfv_s5
   5. https://github.com/mapr/hive/tree/2.1.1-mapr-1707
   6. file://localhost/root/docsync/tmp/mapr.com/docs/home/DevelopmentGuide/MavenArtifacts.html#MavenArtifactsforMapR
   7. file://localhost/root/docsync/tmp/mapr.com/docs/home/EcosystemRN/MEPPkgNames.html#concept_zkc_jlh_hy
