Hive 1.2.1-1607 Release Notes

   Below are release notes for the Hive component included in the MapR
   Converged Data Platform. You may also be interested in the [1]Apache
   Hive 1.2.1 changelog or the [2]Apache Hive homepage.
   Hive Version 1.2.1
   Release Date July 29, 2016
   MapR Version Interoperability See Hive and HCatalog Support Matrix and
   Ecosystem Support Matrix
   Source on GitHub [3]https://github.com/mapr/hive/tree/1.2.0-mapr-1607
   Maven Artifacts [4]http://repository.mapr.com/maven/
   Package Names The following packages are associated with this release:
     * mapr-hive-1.2.201607240717-1.noarch.rpm
     * mapr-hive_1.2.201607240717_all.deb
     * mapr-hivemetastore-1.2.201607240717-1.noarch.rpm
     * mapr-hivemetastore_1.2.201607240717_all.deb
     * mapr-hiveserver2-1.2.201607240717-1.noarch.rpm
     * mapr-hiveserver2_1.2.201607240717_all.deb
     * mapr-hivewebhcat-1.2.201607240717-1.noarch.rpm
     * mapr-hivewebhcat_1.2.201607240717_all.deb

Feature Support

   MapR does not support Hive on Spark. Therefore, you cannot use Spark as
   an execution engine for Hive. However, you can run Hive and Spark on
   the same cluster. You can also use Spark SQL and Drill to query Hive
   tables.

Patches

   This release by MapR includes the following patches on the base Apache
   release. For complete details, refer to the commit log for this project
   in GitHub.
   Commit Date (YYYY-MM-DD) Comment
   12e7cce 2016-07-22 MAPR- 24026/HIVE-11817: A query with OVER statement
   will no longer fail when table contains null values.
   b77136e 2016-07-13 MAPR-23970: When running a query, checks are now
   included to determine if current file system is non-local before
   running getScratchDir() method, which assumes the file system is not
   local.
   c1175423 2016-06-06 MAPR-23560: Symbolic links to the PID files to
   track memory utilization of HiveServer2 and HiveMetaStore processes are
   now available in /opt/mapr/pid.
   70a5bcc 2016-06-02 HIVE-11498: HIVE authorization will skip (and no
   longer check) permissions for dummy entities.
   0304149f 2016-05-20 MAPR-22357: The issue causing -1 to be returned is
   now fixed:
     * The property, hive.rpc.query.plan in hive-site.xml file, can be set
       to true to specify whether to send the query plan via local
       resource or RPC.
     * The parameter, hive.kryo.buffer.size in hive-site.xml file, can be
       used to control Kryo buffer size. The default value for Kryo buffer
       size is now 10 * 4096.

   The following issues were backported from Apache Hive-1.2.2. You may
   also refer to the [5]Apache Hive 1.2.2 Release Notes.
   Commit Date (YYYY-MM-DD) Comment
   c6d08f102b 2016-05-19 HIVE-9013: When auth is enabled, the set command
   will no longer expose the DB metastore password.
   0544a99b2 2016-05-19 HOVE-10308: The issue that caused the
   java.lang.IllegalArgumentException when vectorization was executed has
   been fixed.
   161b711c 2016-05-18 HIVE-11151: The calcite rule will no longer add is
   not null filters on constants.
   923163f9 2016-05-18 HIVE-11171: The issue that caused the join
   reordering algorithm to introduce projects between joints, which did
   not trigger the multijoin optimization in SemanticAnalyzer, has been
   fixed.
   f96969f8c 2016-05-18 HIVE-11216: The issue that caused UDF
   GenericUDFMapKeys to throw NPE when a null map value was passed in has
   been fixed.
   a5889f7 2016-05-18 HIVE-11224: The issue that caused
   AggregateStatsCache to trigger
   java.util.ConcurrentModificationException has been fixed.
   90cd1f42ad 2016-05-18 HIVE-11301: The issue in thrift metastore that
   resulted in disconnecting when getting stats has been fixed.
   c6a8f75fc1 2016-05-18 HIUVE-11344: The issue that made PartInfo object
   unusable if HCatSplit.write was called has been fixed.
   a8ed673a 2016-05-18 HIVE-11470: The issue that caused
   DynamicPartFileRecordWriterContainer to throw a NullPointerException
   when fetching a local file-writer instance with null part-keys has been
   fixed.
   90a3d4c3c 2016-05-18 HIVE11606: The issue that caused bucket map joins
   to produce incorrect results in case of container reuse has been fixed.
   08b07ca2d 2016-05-18 HIVE-11745: The issue that caused alter table
   exchange partition with multiple partitions to not work has been fixed.
   1efbb81f9c 2016-05-18 HOVE-12021: The issue that caused
   HivePreFilteringRule to introduce incorrect common operands has been
   fixed.
   87f2d1b0 2016-05-18 HIVE-12083: The issue that caused an empty
   AggrStats object to be returned if partNames or colNames were empty has
   been fixed.
   135871325 2016-05-18 HIVE-12344: The issue that caused
   projectNonColummnEquiConditions method in HiveCalciteUtil to assign the
   wrong type for newly created conditions has been fixed.
   6bfa219 2016-05-18 HIVE-12345: The issue that caused hidden
   configuration variables to be visible through beeline when connecting
   to HS2 has been fixed.
   d95345809 2016-05-18 HIVE-12937: The issue that caused users of
   DbNotificationListener to have a large number of old notification
   events that were not deleted has been fixed.
   492afa2778 2016-05-18 HIVE-13115: The issue that caused MetaStore
   Direct SQL getPartitions() method to throw an exception when the column
   schemas for a partition were null has been fixed.
   a77035ef 2016-05-18 HIVE-10996: The issue that caused multi-join inner
   query to produce incorrect results has been fixed.
   39e4a9ea5 2016-05-18 HIVE-11172: The issue that caused vectorization to
   return wrong results for an aggregate query with a where clause and
   without a group by has been fixed.
   04844ad38 2016-05-18 HIVE-11517: The issue that caused query on a Q
   file (that uses ORC with vectorization enabled) to produce incorrect
   results has been fixed.
   373ba93f 2016-05-18 HIVE-11605: The issue that caused incorrect results
   when converting to a bucket map join has been fixed.
   2336c38b6 2016-05-18 HIVE-11988: Users who do not have permission to
   create table in hive can no longer import data for a table.
   2489ffec 2016-05-18 HIVE-12437: The issue that caused SMB join in Tez
   to fail when one of the tables was empty has been fixed.
   bfa62787 2016-05-18 HIVE-12947: The issue that caused SMB join to fail
   when reconnecting, during container re-use, the (already connected)
   work items has been fixed.
   4abf5672 2016-05-18 HIVE-12981: ThriftCLIService will no longer use
   getShortName(), which assumes a short name is always the part before
   "@" and "/", as it is no longer compatible.

References

   1. https://issues.apache.org/jira/secure/ReleaseNote.jspa?version=12332384&styleName=Html&projectId=12310843&Create=Create&atl_token=A5KQ-2QAV-T4JA-FDED%7C5df40734d848a7c2f96f2768cb679f4f04c0e97b%7Clout
   2. http://hive.apache.org/
   3. https://github.com/mapr/hive/tree/1.2.0-mapr-1607
   4. http://repository.mapr.com/maven/
   5. https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12310843&version=12332952
