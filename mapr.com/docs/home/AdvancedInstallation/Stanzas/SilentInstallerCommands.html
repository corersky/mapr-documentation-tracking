MapR Installer Stanza Commands

   This topic provides the syntax and options for MapR Installer Stanza
   commands.

Command Usage

   To use MapR Installer Stanza commands, you must log in as the MapR
   Administrator user that you configured while running the mapr-setup.sh
   script. For more information, see [1]Managing Users and Groups.
   check

   Use the check command to verify that the nodes specified in the Stanza
   file are ready to be installed. For more information, see [2]Verifying
   the Stanza File.
check [-h]
     [--overrides [OVERRIDES [OVERRIDES …]]]
     [--no_check_certificate][--url URL]
     [--force][--verbose] --template TEMPLATE

   export
   You can use the export command to discover a currently installed
   cluster and generate a Stanza file that captures the configuration, the
   groups, and the hosts for the cluster. You can then modify the Stanza
   file to install other clusters. For more information, see [3]Exporting
   a Cluster Configuration.
   Note: The Stanza file generated by the export command does not contain
   the ssh_password or ssh_key_file values. You need to add those values
   manually or provide them on the command line by using an override.
export [-h]
     [--overrides [OVERRIDES [OVERRIDES ...]]]
     [--no_check_certificate] [--url URL]
     [--file FILE]

   import

   The import command prepares the installer database using the template
   generated by the probe command. You must specify a template (YAML file)
   to use the import command. For more information, see [4]Using probe and
   import to Generate the Installer Database.
import [-h][--no_check_certificate][--url URL][--verbose]
        --template TEMPLATE

   install

   You can use the install command to perform a fresh install, an
   incremental install, or an upgrade. For more information, see
   [5]Installing or Upgrading MapR Core Using a MapR Installer Stanza.
install [-h]
     [--overrides [OVERRIDES [OVERRIDES …]]]
     [--no_check_certificate][--url URL]
     [--force][--verbose] --template TEMPLATE

   license

   Use the license command to add a license from a license file. For more
   information, see [6]Adding a License.
license [-h]
      [--no_check_certificate][--url URL]
      --license LICENSE <license-file>

   list

   You can use the list command to display information about the
   configuration, services, groups, hosts, and installed services
   specified in the Stanza file. For more information, see [7]Getting
   Information About Services and Groups.
list [-h]
    {services,groups,hosts,config,installed} ...

   probe

   The probe command generates a template file that can be used to create
   an installer database on a cluster that doesn’t have one. A cluster
   must have an installer database in order for you to use MapR Installer
   Stanzas on the cluster. If the installer database is not present, you
   can use the probe command followed by the import command to generate
   one. For more information, see [8]Using probe and import to Generate
   the Installer Database.
probe [-h]
      [--no_check_certificate][--url URL]
      [--force][--verbose] --template TEMPLATE
      [--overrides [OVERRIDES [OVERRIDES …]][--verbose]]

   reset

   The reset command uninstalls the metadata from the installer database.
   For more information, see [9]Resetting the Installer Database.
reset [-h] [--overrides [OVERRIDES [OVERRIDES ...]]]
      [--no_check_certificate] [--url URL]
      [--force] [--verbose]

   shutdown

   The shutdown command shuts down the cluster. For more information, see
   [10]Shutting Down a Cluster Using a MapR Installer Stanza Command.
shutdown [-h] [--overrides [OVERRIDES [OVERRIDES ...]]]
      [--no_check_certificate] [--url URL]
      [--force] [--verbose]

   uninstall

   The uninstall command removes MapR software. For more information, see
   [11]Uninstalling MapR Core Using a MapR Installer Stanza.
uninstall [-h]
      [--overrides [OVERRIDES [OVERRIDES ...]]]
      [--no_check_certificate] [--url URL]
      [--force] [--verbose]

Command Options

   All of the following command options are optional except for the
   TEMPLATE option:
   Option Description
   -h or --help Show this help message and exit.
   -o [OVERRIDES[OVERRIDES …]] or --overrides[OVERRIDES[OVERRIDES …]]x = y
   list of overrides or - for stdin Use the specification provided on the
   command line instead of the Stanza file instructions. Overrides are
   typically used when you want to specify a host name, user ID, password,
   or key file on the command line.
   Note:

   The key=value pair or pairs specified in a Stanza override must not
   include blank spaces. For example, do not use this command:
./mapr-installer-cli probe -o config.hosts='["host1", "host2", "host3"]' .....

   Use this command instead:
./mapr-installer-cli probe -o config.hosts='["host1","host2","host3"]' .....

   In the second command, config.hosts is the key, and
   '["host1","host2","host3"]' is the value. An override can specify
   multiple key=value pairs with each pair separated by a space:
-o <key1=value1> <key2=value2> <key3=value3>

   -n or --no_check_certificate Do not verify SSL certifications.
   -u URL or --url URL Installer URL (user:password@host:port)
   --file FILE The export file path.
   -f or --force Force action. This option eliminates user input and
   answers yes to all questions returned by the software.
   -v or --verbose Verbose output.
   -t TEMPLATE or --template TEMPLATE The specified Stanza template file
   (required for the install and import commands). The template file can
   be a local file on the installer node, or it can be a remotely
   accessible URL.

Command Line Help

   You can access online help at the command line using any of these
   commands:
   Command This command displays...
   ./bin/mapr-installer-cli -h Top-level help for the installer
   ./bin/mapr-installer-cli <cmd> -h where <cmd> is one of the following:
     * check
     * export
     * import
     * install
     * license
     * list
     * probe
     * reset
     * uninstall

   Help for the specified command

References

   1. http://maprdocs.mapr.com/home/AdministratorGuide/c-managing-users-and-groups.html
   2. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdvancedInstallation/Stanzas/VerifyingStanzaFile.html#concept_a1c_3qt_gy
   3. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdvancedInstallation/Stanzas/ExportClusterConfig.html#concept_lqf_4wp_cy
   4. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdvancedInstallation/Stanzas/UsingProbeImport.html#concept_oct_r3y_jz
   5. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdvancedInstallation/Stanzas/InstallingUpgradingStanza.html
   6. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdvancedInstallation/Stanzas/AddingaLicense.html#concept_a34_sky_jz
   7. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdvancedInstallation/Stanzas/GettingInfoServices.html#concept_jhq_v5p_cy
   8. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdvancedInstallation/Stanzas/UsingProbeImport.html#concept_oct_r3y_jz
   9. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdvancedInstallation/Stanzas/ResettingInstallerDB.html#concept_tgk_grt_gy
  10. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdvancedInstallation/Stanzas/ShuttingDownClusterStanza.html
  11. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdvancedInstallation/Stanzas/UninstallStanzas.html#concept_snt_dlq_cy
