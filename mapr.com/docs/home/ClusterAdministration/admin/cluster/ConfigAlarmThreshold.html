Configuring the Alarm Threshold Using the CLI

   You can configure the alarm threshold for certain alarms. For the
   alarms that support threshold configuration, this section describes the
   command to run to set the threshold.

   VOLUME_ALARM_INODES_EXCEEDED
          Threshold is configurable at cluster and volume level.

          If configured at both the cluster and volume levels, the volume
          level threshold overrides cluster-level threshold.

          To configure at the cluster-level, run the following commands:

# maprcli config save -values '{"cldb.max.inodes.volume.alarm.thresh":"<value>"}
'
# maprcli config save -values '{"cldb.default.max.namespace.size.mb.alarm.thresh
":"<value>"}'

          To configure at the volume-level, run the following commands:

# maprcli volume modify -name <volname> -maxinodesalarmthreshold <threshold>
# maprcli volume modify -name <volname> -maxnssizembalarmthreshold <threshold>

   VOLUME_ALARM_TOPOLOGY_ALMOST_FULL
          Threshold is configurable at cluster level.
          To configure, run the following command:

# maprcli config save -values '{"cldb.topology.almost.full.percentage":"<value>"
}'

   VOLUME_ALARM_QUOTA_EXCEEDED
          Threshold is configurable in volume properties.
          To configure, run the following command:

# maprcli volume modify -name <volname> -quota <value>

   VOLUME_ALARM_TABLE_INDEX_LAG_HIGH
          Threshold is configurable in volume properties.
          To configure, run the following command:

# maprcli volume create -name <volname> -dbindexlagsecalarmthresh <value in seco
nds>

   VOLUME_ALARM_TABLE_REPL_LAG_HIGH
          Threshold is configurable in volume properties.
          To configure, run the following command:

# maprcli volume create -name <volname> -dbrepllagsecalarmthresh <value in secon
ds>

   VOLUME_ALARM_ADVISORY_QUOTA_EXCEEDED
          Threshold is configurable in volume properties.
          To configure, run the following command:

# maprcli volume modify -name <volname> -advisoryquota <value>

   AE_ALARM_AEQUOTA_EXCEEDED
          Threshold is configurable in ae properties.

# maprcli entity modify -name <entityname> -type <type> -quota <value>

   AE_ALARM_AEADVISORY_QUOTA_EXCEEDED
          Threshold is configurable in ae properties.

# maprcli entity modify -name <entityname> -type <type> -advisoryquota <value>

   NODE_ALARM_TOO_MANY_CONTAINERS
          Threshold is configurable at cluster level.

          This alarm is also raised when total number of containers
          (including snap containers) exceed 10 times the value of
          pernode.numcntrs.alarm.thr.

# maprcli config save -values '{"pernode.numcntrs.alarm.thr":"<value>"}'

   NODE_ALARM_NO_HEARTBEAT
          Threshold is configurable at cluster level.

# maprcli config save -values '{"cldb.fs.mark.inactive.sec":"<value>"}'

   NODE_ALARM_HIGH_MFS_MEMORY
          Threshold is configurable at cluster level.

          This alarm is raised when MapR Filesystem memory consumption
          exceeds the threshold.

# maprcli config save -values '{"cldb mfs.high.memory.alarm.threshold":"<value>"
}'

   CLUSTER_ALARM_CLUSTER_ALMOST_FULL
          Threshold is configurable at cluster level.

# maprcli config save -values '{"cldb.cluster.almost.full.percentage":"<value>"}
'

   CLUSTER_ALARM_LICENSE_NEAR_EXPIRATION
          Threshold is configurable at cluster level.

# maprcli config save -values '{"mapr.license.exipry.notificationdays":"<value>"
}'

   CLUSTER_ALARM_TOO_MANY_SNAPSHOT_CONTAINERS
          Threshold is configurable at the cluster level by setting the
          value for the cldb.snap.cntr.count.alarm.threshold property in
          the cldb.conf file. See [1]cldb.conf for more information.
          Note: The default value is 100000000.

References

   1. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/cldb.conf.html
