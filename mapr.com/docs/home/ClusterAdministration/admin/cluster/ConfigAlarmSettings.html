Configuring Alarm Settings

   You can set the severity and notifications for each alarm using MCS and
   the CLI.

Configuring Alarm Settings Using the MapR Control System

   To configure alarm setting in MCS:
    1. Log in to MCS and click Admin > Cluster Settings > Alarms.
    2. Select:
          + Cluster Alarms to configure settings for the alarms that
            affect the cluster as a whole
          + Node Alarms to configure settings for the alarms that indicate
            problems on individual nodes
          + Table Alarms to configure settings for the alarms that
            indicate table replication-related problems
          + User Alarms to configure settings for the alarms that indicate
            problems with user or group quotas
          + Volume Alarms to configure settings for the alarms that
            indicate problems in individual volumes
    3. Click on the name of the alarm to display the Alarm Settings
       window.
    4. Specify a description of the alarm under GENERAL settings.
    5. Configure alarm notifications (under NOTIFICATIONS) to allow MapR
       to send an email notification when the alarm is raised.
         a. Select (to enable) or deselect (to disable) Email
            Notifications checkbox.
         b. If notifications is enabled, enter user name or group name to
            send email out to when the alarm is raised and click Add.
            See [1]Setting Up SMTP for additional information.

Configuring Alarm Settings Using the CLI or REST API

   To set up alarm notifications, run the [2]alarm config save command
   from the command line.
   Warning: You must have fc (full control) or a (admin) permissions to
   run this command.

   The format of the command is:
maprcli alarm config save -cluster <cluster_name> -values "<alarm>,<enableEmail>
,<email>"

   Assign values as follows:
   Value Description Example
   alarm Name of the alarm DISK_FAILURE_ALARM
   enableEmail

   Specifies whether individual alarm notifications are sent to any email
   address (including the default email address) for the alarm type.
     * 0 - do not send notifications to any email address for the alarm
       type
     * 1 - send notifications to all email addresses for the alarm type

   1
   email One or more email addresses other than the default email address.
   If specified, alarm notifications are sent to these addresses as well,
   if enableEmail is set to 1. Multiple email addresses must be separated
   by spaces only. You cannot use commas or other delimiters. For example,
   user1@mycorp.com user2@mycorp.com is valid. user1@mycorp.com

References

   1. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdministratorGuide/t_setting_up_SMTP.html
   2. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/alarm-config-save.html#alarmconfigsave
