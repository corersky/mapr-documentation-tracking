Setting Quota for a Volume

   You can set quotas for a volume using MCS and the CLI.

Setting Quota for a Volume Using the MapR Control System

   To set volume quotas, in the Summary tab under Data > Volumes:
    1. Ensure that the Usage column is displayed in the Volumes pane.
       If necessary, customize the columns to see the Usage column.
    2. Click the Set Quota link associated with the volume for which you
       want to set quotas.
       The Set Quota dialog displays.
    3. Specify the following:
         a. Hard quota, which raises an alarm when the threshold is
            reached and prevents further writes.
            Note: When you set a hard quota for a tiering-enabled volume,
            the quota is the total space allocated for the volume
            irrespective of the location (cluster or tier) where the
            volume data is stored. For example, if you allocate 1GB of
            hard quota for a tiering-enabled volume, writes will fail
            after you write 1GB of data whether or not the volume data is
            local (on the cluster) or offloaded (to the tier).
         b. Advisory quota, which raises an alarm when the threshold is
            reached, but does not prevent further writes.
       Note: Both, advisory and hard, quotas can be expressed in megabytes
       (MB), gigabytes (GB), which is the default, or terabytes (TB).
       Advisory quota cannot be greater than hard quota.
    4. Click Save Changes for the changes to take effect.

Setting Quota for a Volume Using the CLI or the REST API

   You can set quotas for a volume when creating a new or modifying an
   existing volume.
     * [1]CLI
     * [2]REST

   The basic command to set quota for a volume is:
maprcli volume create -name <volName> -path <mountPath> -advisoryquota <advisory
Quota> -quota <hardQuota>
maprcli volume modify -name <volName> -advisoryquota <advisoryQuota> -quota <har
dQuota>

   Send a request of type POST. For example:
curl -k -X POST 'https://<hostname>:8443/rest/volume/create?name=<volName>&path=
<mountPath>&advisoryquota=<advisoryQuota>&quota=<hardQuota>' --user mapr:mapr
curl -k -X POST 'https://<hostname>:8443/rest/volume/modify?name=<volName>&advis
oryquota=<advisoryQuota>&quota=<hardQuota>' --user mapr:mapr

   For the complete list of required and optional parameters, see
   [3]volume create and [4]volume modify.

References

   1. file://localhost/root/docsync/tmp/mapr.com/docs/home/ClusterAdministration/data/volumes/SetVolQuota.html#div1entry1
   2. file://localhost/root/docsync/tmp/mapr.com/docs/home/ClusterAdministration/data/volumes/SetVolQuota.html#div1entry2
   3. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/volume-create.html
   4. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/volume-modify.html
