Modifying a Volume

   You can edit a volume through MCS and using the CLI.

Modifying a Volume Using the MapR Control System

   To modify a volume:
    1. Log in to MCS and go to the [1]volume information page.
    2. Click Edit Volume to display the Edit Volume page.
    3. Modify one or more of the following general, auditing, and
       replication settings:
          + [2]Standard Volume
          + [3]Mirror Volume

   CAPTION:

   SETTINGS AND AUDITING Accountable Entity The entity accountable for the
   volume’s usage.
   Collect Metrics Whether (Yes) or not (No) to enable metrics collection
   for the volume.
   Volume Access Whether volume is a read-only or read/write volume.
   Enable Auditing Select one of the following:
          + Disable auditing
          + Enable auditing for volume so that auditing can be enabled by
            directories, files, tables, and streams in the volume
          + Enable auditing of operations on all files, tables, streams in
            the volume whether or not auditing is enabled by files,
            tables, and streams in the volume.

   Coalesce Interval Interval of time used when logging multiple instance
   of an operation on a node from a client IP, if auditing is enabled.
   Data on Wire Encryption Whether (Yes) or not (No) to encrypt data in
   the volume during transmission. This is not supported on unsecure
   clusters.
   HOT (REPLICATION) Topology The location of the volume in the cluster
   rack topology.
   Replication Desired and minimum number of copies of the volumes.
   Name Container Replication Desired and minimum number of copies of the
   name container associated with the volumes.

   CAPTION:

   SETTINGS AND AUDITING Source Cluster Name The name of the cluster on
   which the source volume exists.
   Source Volume Name The name of the source volume to mirror.
   Accountable Entity The entity accountable for the volume’s usage.
   Collect Metrics Whether (Yes) or not (No) to enable metrics collection
   for the volume.
   Enable Auditing Select one of the following:
          + Disable auditing
          + Enable auditing for volume so that auditing can be enabled by
            directories, files, tables, and streams in the volume
          + Enable auditing of operations on all files, tables, streams in
            the volume whether or not auditing is enabled by files,
            tables, and streams in the volume.

   Coalesce Interval The interval of time to use when logging multiple
   instance of an operation on a node from a client IP, if auditing is
   enabled.
   Data on Wire Encryption Whether (Yes) or not (No) to encrypt data in
   the volume during transmission. This is not supported on unsecure
   clusters.
   REPLICATION (HOT) Topology The location of this volume in the cluster
   rack topology.
   Replication Desired and minimum number of copies of the volume.
   Name Container Replication Desired and minimum number of copies of the
   name container associated with the volume.
    4. Set new (if Data Tier was enabled (On) during volume creation) or
       modify existing DATA TIERING settings.
          + [4]Erasure Coding (Warm)
          + [5]Remote Archiving (Cold)
       For offloading data to a warm tier, set new or modify existing
       values for the following properties.

   CAPTION:

   Topology The topology of the erasure coded volume from the dropdown
   list only if it is already not set.
   Storage Policy The rule (or criteria) for automatically offloading data
   in this volume. You can click:
          + Browse to select an existing rule.
          + Create to create a new rule for offloading data. See
            [6]Creating a Storage Policy Using the MapR Control System for
            more information.

   Erasure Coding The erasure coding scheme, which is the number of data
   chunks and number of parity chunks, only if it is already not set; you
   cannot modify existing scheme. See [7]Erasure Coding Scheme for Data
   Protection and Recovery for more information.
       For offloading data to a low cost storage alternative on the cloud,
       set new or modify existing values for the following properties.

   CAPTION:

   Remote Target The location to offload data to only if it is already not
   set; you cannot modify if it is already set. You can click:
          + Browse to select an existing tier.
          + Create to create a new tier. See [8]Creating a Cold Tier Using
            the MapR Control System for more information.

   Storage Policy The rule (or criteria) for offloading data in this
   volume. You can click:
          + Browse to select an existing rule.
          + Create to create a new rule for offloading data. See
            [9]Creating a Storage Policy Using the MapR Control System for
            more information.

   Retention Duration after Recall The number of days to retain data
   recalled from the tier to the MapR cluster. Once the number of days is
   reached, recalled data on the MapR cluster is purged (if there are no
   changes) or offloaded (if there are changes).
   Tier Encryption The setting to enable (Yes) or disable (No) encryption
   of data on the tier only if it is already not set.
    5. Make changes as needed to volume access.

   CAPTION:

   ADMINISTRATIVE CONTROLS Users and groups that have permissions to
   perform administrative operations on this volume. To:
          + Modify access to existing users, select or deselect
            permissions.
          + Grant access to another user, click Add Another, enter the
            user name, and select permissions to grant to the user.

   USER ACCESS CONTROLS Specifies public or the users, groups, and/or
   roles that have and/or do not have access to read from and/or write to
   this volume.

   To grant or block access to users, groups, and/or roles, from the:
          + Basic settings, select the type — public, (OR) user, group, or
            role — from the drop-down menu, specify the name of the user,
            group, or role, and select one or more checkbox to grant
            permissions.
            Tip: Click [cloneACE.png] to create a copy of the associated
            access control setting. Click [deleteRow.png] to remove the
            associated access control expression.
            To add access control expressions for another user, group, or
            role, click Add Another and repeat this step.
          + Advanced settings, or specify public (p) or user (u), group
            (g), and/or role (r) who have and/or do not have the type of
            access using the following boolean expressions and
            subexpressions:
               o ! — Negation operator.
               o & — AND operation.
               o | — OR operation.
            Use (), parentheses, for subexpressions.
            Note: You cannot specify user, group, or role individually if
            access is granted to all users (public).
            Alternatively, click [editPencil.png] associated with the type
            of access to use the Access Control Expression window to
            define access for public or users, group, and/or role. See
            [10]Defining ACEs for more information.

   Note: If you switch from Basic to Advanced, the basic settings, if any,
   will be carried over to the advanced settings. If you switch from
   Advanced to Basic, all the settings will be lost because the
   subexpressions and AND (&) and negation (!) operations that are
   supported by advanced settings are not supported in the basic settings.
    6. (Optional) Modify volume quota as needed.

   CAPTION:

   Volume Advisory Quota Allocated disk space, which when exceeded raises
   an alarm but does not prevent writes.
   Volume Hard Quota Allocated disk space, which when exceeded prevents
   further writes.
    7. (Optional) Add or modify schedule(s) as needed.
          + [11]Standard Volume
          + [12]Mirror Volume

   CAPTION:

   Snapshot Schedule Schedule for creating snapshots of the volume.
   Tier Offload Schedule Schedule for offloading data to the storage tier.
   This is available only if volume is enabled for storage tiering.

   CAPTION:

   Snapshot Schedule Schedule for creating snapshots of this volume.
   Mirror Schedule Schedule for automatically synchronizing (mirroring)
   this volume with the source volume.
   Tier Offload Schedule Schedule for offloading data to the storage tier.
   This is available only if volume is enabled for storage tiering.
    8. Click Save Changes for the changes to take effect.

Modifying a Volume Using the CLI or REST API

     * [13]CLI
     * [14]REST

   The basic command to modify a volume is:
maprcli volume modify -name <volume name>

   Send a request of type POST. For example:
curl -k -X POST 'https://<hostname>:8443/rest/volume/modify?name=<volume name>'
--user mapr:mapr

   For the complete list of editable parameters, see [15]volume modify.

References

   1. file://localhost/root/docsync/tmp/mapr.com/docs/home/ClusterAdministration/data/volumes/ViewVolInfo.html
   2. file://localhost/root/docsync/tmp/mapr.com/docs/home/ClusterAdministration/data/volumes/EditVolume.html#div1entry1
   3. file://localhost/root/docsync/tmp/mapr.com/docs/home/ClusterAdministration/data/volumes/EditVolume.html#div1entry2
   4. file://localhost/root/docsync/tmp/mapr.com/docs/home/ClusterAdministration/data/volumes/EditVolume.html#div2entry1
   5. file://localhost/root/docsync/tmp/mapr.com/docs/home/ClusterAdministration/data/volumes/EditVolume.html#div2entry2
   6. file://localhost/root/docsync/tmp/mapr.com/docs/home/StorageTiers/CreateStoragePolicy.html#mcs-create
   7. file://localhost/root/docsync/tmp/mapr.com/docs/home/StorageTiers/SelectECScheme.html
   8. file://localhost/root/docsync/tmp/mapr.com/docs/home/StorageTiers/CreateTier.html#mcs-cold
   9. file://localhost/root/docsync/tmp/mapr.com/docs/home/StorageTiers/CreateStoragePolicy.html#mcs-create
  10. file://localhost/root/docsync/tmp/mapr.com/docs/home/ClusterAdministration/data/ACE-Builder.html
  11. file://localhost/root/docsync/tmp/mapr.com/docs/home/ClusterAdministration/data/volumes/EditVolume.html#div3entry1
  12. file://localhost/root/docsync/tmp/mapr.com/docs/home/ClusterAdministration/data/volumes/EditVolume.html#div3entry2
  13. file://localhost/root/docsync/tmp/mapr.com/docs/home/ClusterAdministration/data/volumes/EditVolume.html#div4entry1
  14. file://localhost/root/docsync/tmp/mapr.com/docs/home/ClusterAdministration/data/volumes/EditVolume.html#div4entry2
  15. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/volume-modify.html#volumemodify
