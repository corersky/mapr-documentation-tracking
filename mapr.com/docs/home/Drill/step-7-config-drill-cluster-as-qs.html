Step 7: Register a Drill Cluster as an OJAI Distributed Query Service
Provider

   You can select any of the configured Drill clusters to act as the OJAI
   Distributed Query Service provider for operational queries by running
   the queryservice setconfig command.

   When you register the Drill cluster as the OJAI Distributed Query
   Service provider, adjust the memory setting on each node because the
   default Drill memory setting of 13 GB is unnecessarily high for the
   OJAI Distributed Query Service, which only requires ~ 5 GB. You must
   restart the Drillbits after you update the memory settings.

Registering a Drill Cluster as the OJAI Distributed Query Service Provider

   To register a Drill Cluster as a OJAI Distributed Query Service
   provider, run the following command:
maprcli cluster queryservice setconfig -enabled true -clusterid <name_of_cluster
> -storageplugin dfs -znode <zk_setting>

   For example, drillbits2 and drill2 are the cluster ID and ZooKeeper
   settings used in examples in previous steps. For these configurations,
   the command is:
maprcli cluster queryservice setconfig -enabled true -clusterid drillbits2 -stor
ageplugin dfs -znode drill2

   See [1]queryservice setconfig for more information about the command.

Configuring Memory for the OJAI Distributed Query Service

   Modify the memory settings on each node in the OJAI Distributed Query
   Service cluster and then restart Drill. See [2]Configuring Drill Memory
   for instructions.

References

   1. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/cluster-queryservice-setconfig.html#reference_rzk_j4t_d1b
   2. file://localhost/root/docsync/tmp/mapr.com/docs/home/Drill/a-config-drill-memory.html#a-config-drill-qs-memory
