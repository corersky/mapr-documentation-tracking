Resolved Issues (MapR 6.0.0)

   The following MapR issues, which were reported by customers, are
   resolved in Version 6.0.
   Component Number Description Resolution
   CLDB 14105 Log a proper error message when nodes attempt to the
   register with duplicate IP addresses
   CLDB 22044 cldb.log is not rotated properly
   CLDB 24413 cldb servers keep crashing with
   [java.lang.ArrayIndexOutOfBoundsException: 4 at
   com.mapr.fs.cldb.topology.Topology.addServerBackToRRList(Topology.java:
   5857) ]
   CLDB 24846 topology gets lost after cldbfaileover
   CLDB 25590 Wrong fileserver port information served by slave cldb
   CLDB 25800 Unable to restore mapr.cldb.internal from dump
   CLDB 28633 Immediately after a master CLDB failover, users were able to
   remove a node which had not yet registered with the new master CLDB.
   With this fix, node cannot be removed for up to 15 minutes after a
   master CLDB failover.
   CLDB 29588 CLDB deleted wrong CID 1 causing CLDB volume to be wiped out

   FileClient 22571 To use the MapR Client on Windows, it was necessary to
   set up the spoof user username, uid, and gid in the core-site.xml file
   because these properties were needed for translating cluster uid back
   to username (for job submission). With this fix, you need not set up
   the spoof user username, uid, and gid in the core-site.xml file as
   username is available via the ticket.
   FileClient 23880 When multiple applications attempt to load the same
   MapR native library using the root class loader, an exception was
   returned because MapR native library can be loaded only once and an
   application had already successfully loaded the MapR native library.
   With this fix, an exception is not returned when applications try to
   load an already loaded MapR native library.
   FileClient 24140 On Windows, MapRClient generates core for Python APIs

   FileClient 24247 FSDataInputStream the number of bytes read, possibly
   zero, or -1 if reach end-of-stream not met
   FileClient 24249 ERROR Client fs/client/fileclient/cc/client.cc:435
   Thread: 7321 MapClientInitParams: Unable to get
   setSeperateAuditPathfieldID from Java
   FileClient 24965 Bug in FileClient initialization
   FileClient 25198 Insert query with union all failed by
   InvalidInputException on hive-1.0 and Tez
   FileClient 25471 Failed to fetch attributes for volume
   FileClient 26790 FUSE: CP command fails with ESTALE error
   FileClient 27757 YARN Distributed shell application fails after RM
   failover
   FileClient 28440 InputStream.read() API returns invalid data
   FileClient 28528 FsAction.READ_EXECUTE on directory result in
   AccessControlException
   FileClient 29121 InputStream.read() API returns invalid data
   FileServer 12856 Improve behavior of "hadoop fs -rmr", do not build
   entire file list in memory, unlink files as their meta info is returned
   by readdir
   FileServer 23530 SPs went offline on 2 nodes at same time and 2
   containers stuck in BM state
   FileServer 24232 Unable to access or remove directory with stale files

   FileServer 24779 Assert in mapr::fs::Replication::FreeReplica
   FileServer 24805 Summary: Reduce Lock contention in SetAttr by using
   Fid lock in shared mode when possible.
   FileServer 24884 Stale container cache in mfs can potentially corrupt
   data
   FileServer 25848 Error In GetXattr for Fid x.x.x error=2 while
   accessing a file
   FileServer 26025 Security::Decrypt() returning EINVAL, causes MFS to
   assert in ReplicateOps::OpRespond()
   FileServer 26093 mfs assert in unlink after promoting destination
   mirror to RW
   FileServer 26288 MFS went to hung state looping in
   mapr::fs::CidCache::LookupServerBinding(unsigned long) ()
   FileServer 26351 SSD Trimming is not supported by all vendors
   FileServer 26570 A successful gethostbyname() call returns h_addr_list
   as NULL causing MFS to crash
   FileServer 28794 punch hole is slow as it is doing log flush
   un-necessarily
   FS:Audit 24585 Extra logging in cldbaudit.log.json
   FS:Audit 24915 expandaudit command creates huge error files
   FS:Cache 28775 mfs write take long time due to uncache
   FS:Container 23876 Container was in resync for 12 hours
   FUSE-based POSIX Client 25290 Fuse process crashes frequently
   FUSE-based POSIX Client 28907 The MapR FUSE-based POSIX client required
   user/group to exist before allowing creation of files in MapR-FS with
   those UIDs/GIDs. With this fix, the MapR FUSE-based POSIX allows file
   creation in MapR-FS with UIDs/GIDs that may not exist on the cluster or
   the client host.
   FUSE-based POSIX Client 28910 When enabling the setgid bit on a file,
   if the the primary group set in the executing process did not match the
   actual group of the file, then POSIX-compliant file systems proceeded
   without throwing an error. With this fix, the file system now gives
   EPERM error when setting the setgid bit on file, if the primary group
   of the executing process does not match the actual group of the file.
   FUSE-based POSIX Client 28914 Unlink operation sometimes left the file
   in inconsistent state when accessed using the FUSE-based POSIX client.
   With this fix, the unlink operation will succeed and the file cannot be
   accessed.
   FS:Hardlinks 24238 Multi-mfs crashes at
   mapr::fs::Container::IAllocFromAg
   FS:Mirror2RW 20644 Mirror schedule stop with inuse flag 0
   FS:Mirror2RW 25308 mfs asserts in GetChildAttrInodeGotten()
   FS:Replication 25147 Mfs detected deadlock condition during container
   replication and result to server restart
   FS:Replication 25443 Container in resync mode forever; corresponding
   resync on upstream is missing
   FS:Replication 26054 Container stuck in resync state without any
   progress with single valid copy
   hoststats 11349 hoststats fails to start on one node
   JM:UI 24700 JobTracker UI fails with NullPointerException for hive
   parameter
   DB 24054 MapR-DB performance was significantly degraded after it became
   4 nodes cluster
   DB 25241 MapR-DB: FuzzRowFilter is not returning correct result
   DB 25485 Scanning MapR-DB table fails with Input/Output error due to
   corrupt column family data
   DB 26416 Assert during free in
   mapr::fs::LDBBlock::FetchBlockCheckCrcAndCleanup
   DB 28023 Segmentation fault in SegmentScanner::Init
   DB 26338 QueryCondition using in conditional does not include last
   value in provided list
   MapReduce 24135 Limits class does not construct Configuration
   correctly, enforces wrong counter limit, causes TaskTracker failures
   MapReduce 24235 deadlock at com.mapr.log4j.CentralTaskLogAppender
   MapReduce 25373 Jobs failing after upgrade to 5.2 due to
   NativeIO.POSIX.open not supported on Windows in standalone mode
   MapReduce 25599 Warden might start JobTracker twice
   NFS 23698 Change of NFS Export Path
   NFS 24315 dd command reads more data than the actual data when
   iflag=direct is used
   NFS 24434 rsync is not working properly with hardlinks
   NFS 24630 full time stamp shows negative numbers after applying patch
   39544
   NFS 28016 NFS keeps trying to access dead file server
   NFS:LoopBack 23652 MapR client (POSIX, FUSE, native) does not
   automatically refresh service ticket
   Security 27152 MapR-FS crashed because the number of bytes to encrypt
   exceeded 256MB. This number of bytes to encrypt can now be greater than
   256MB.
   Tez 20965 Insert query with union all failed by
   ArrayIndexOutOfBoundsException on hive-1.0 and Tez
   UI:Browser 23257 VIP created using "Select the desired network
   interfaces" does not appear in NFS Setup in MCS
   UI:CLI 24280 dashboard info failed with "TimeoutException during RM
   Status thread execution"
   Warden 24119 Warden calculation of MFS,nodemanager memory consumption
   is incorrect
   Warden 24562 Warden is not being nicer to CLDB in latest releases
   YARN 23571 Spark Web UI failed with ERROR 500 when Zero configuration
   RM HA enabled
   YARN 24392 mapr 5.2 RM not coming up
   YARN 24477 LocalVolumeAuxService instance continues to work if init
   failed
   YARN 24812 Hive couldn't find finished job status
   YARN 25001 FairScheduler: potential livelock due to maxAMShare
   limitation and container reservation
   YARN 25175 Resource Manager fails to load state with
   InvalidProtocolBufferException Property
   "yarn.resourcemanager.fs.state-store.remove-corrupted-data" works as
   expected:
     * when "true", corrupted data is removed and RM starts successfully.
     * when "false", exception is thrown and RM does not start if data is
       corrupted.

   YARN 25359 RM crashes due to inability of maprfs to remove
   application's directory from RM state store
   YARN 25387 NullPointerException in Error in handling event type
   NODE_ADDED to the scheduler
   YARN 26425 ResourceManager goes loops infinitely in the
   FairScheduler.preemptResources method while holding FairScheduler lock,
   causing all RPC threads blocked by lock contention
   YARN 27919 Memory Leak in org.apache.hadoop.fs.FileSystem$Cache
   YARN 28366 FairScheduler.preemptMapping leak
