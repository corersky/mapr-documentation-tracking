Managing JSON Documents

   To perform CRUD operations (create, read, update, and delete) on JSON
   documents in MapR Database JSON tables using the OJAI API, you use
   Document, DocumentStore, and DocumentMutation objects.

   You can also perform these operations using [1]MapR Database Shell
   (JSON Tables).

Document

   To create a JSON document, you must create a Document object. See the
   following for information specific to each language:
     * [2]Java
     * [3]Node.js
     * [4]Python

   To create a JSON document in Java OJAI, use the [5]Document interface.

   See [6]Creating JSON Documents in Java OJAI to learn about the
   different ways to create Document objects in Java.

   To create a Document object in Node.js OJAI, simply create a JSON
   object.

   See [7]Sample OJAI Code for Creating JSON Documents for an example of
   how to do this.

   The preferred approach is to create a Document object in Python is to
   create a Python dictionary. You can also use the [8]Document interface.

   See [9]Creating JSON Documents in Python OJAI to learn about these two
   ways to create JSON documents in Python.

DocumentStore

   After you create a Document object, you can pass it to the
   DocumentStore interface. The interface has methods to perform the
   following tasks:
     * Delete documents from tables
     * Insert documents into tables
     * Replace documents in tables

   See the following for API links to the DocumentStore interface in each
   language:
     * [10]Java
     * [11]Node.js
     * [12]Python

   [13]DocumentStore
   Note: By default, OJAI implements non-buffered writes. If you want
   buffered writes instead, use the ojai.mapr.documentstore.buffer-writes
   option and with the Document object. This option is available only in
   the Java OJAI API. See [14]Enabling Buffered Writes in Java OJAI for
   more information.
   [15]DocumentStore
   [16]DocumentStore

DocumentMutation

   To make changes to JSON documents, create a DocumentMutation object. A
   DocumentMutation enables you to perform OJAI mutations, which includes
   replacing, updating, combining, and deleting fields in a JSON document.
   For a list of available mutations, see [17]Using OJAI Mutation Syntax.
     * [18]Java
     * [19]Node.js
     * [20]Python

   To create a DocumentMutation object, call the methods in the
   DocumentMutation class corresponding to the mutation operations you
   want to perform. See [21]DocumentMutation for a list of available
   methods.

   Pass the DocumentMutation object to either the
   [22]DocumentStore.checkAndUpdate or [23]DocumentStore.update method to
   apply the changes to the document. The first method accepts a
   [24]QueryCondition parameter that must evaluate to true for the
   mutation to be applied. Both methods have an _id parameter
   corresponding to the document to be updated.

   To create a DocumentMutation object, create a JSON object [25]Using
   OJAI Mutation Syntax.

   Pass the DocumentMutation object to either the
   [26]DocumentStore.checkAndUpdate or [27]DocumentStore.update method to
   apply the changes to the document. The DocumentStore.checkAndUpdate()
   method accepts an OJAI query condition parameter that must evaluate to
   true for the mutation to be applied. Both methods have an _id parameter
   corresponding to the document to be updated.

   To create a DocumentMutation object, create a Python dictionary object
   [28]Using OJAI Mutation Syntax.

   Pass the DocumentMutation object to either the
   [29]DocumentStore.check_and_update or [30]DocumentStore.update method
   to apply the changes to the document. The
   DocumentStore.check_and_update() method accepts an OJAI query condition
   parameter that must evaluate to true for the mutation to be applied.
   Both methods have an _id parameter corresponding to the document to be
   updated.

   By default, the default maximum size of a JSON document is 32 MB. A
   DocumentMutation does not enforce this limit. MapR Database enforces
   the limit when you pass your DocumentMutation object to the
   DocumentStore method. See [31]JSON Document Size for information about
   how to increase this limit.

   See [32]Examples: Updating JSON Documents for examples that use
   mutations.

References

   1. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/mapr_dbshell.html#mapr_dbshell
   2. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/crud-ojai-documents.html#div1entry1
   3. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/crud-ojai-documents.html#div1entry2
   4. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/crud-ojai-documents.html#div1entry3
   5. https://mapr.com/docs/apidocs/61/ojai/java/org/ojai/Document.html
   6. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/creating_documents_with_maprdb_ojai_java_api_.html#creating_documents_with_maprdb_ojai_java_api_
   7. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/create-document.html#reference_ysk_fly_41b
   8. https://mapr.com/docs/apidocs/61/ojai/python/classojai_1_1_document_1_1_document.html
   9. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/CreateOJAIDocumentPython.html#CreateOJAIDocumentPython
  10. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/crud-ojai-documents.html#div2entry1
  11. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/crud-ojai-documents.html#div2entry2
  12. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/crud-ojai-documents.html#div2entry3
  13. https://mapr.com/docs/apidocs/61/ojai/java/org/ojai/store/DocumentStore.html
  14. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/ojai-nonBuffered-writes.html
  15. https://mapr.com/docs/apidocs/61/ojai/nodejs/classes/documentstore.html
  16. https://mapr.com/docs/apidocs/61/ojai/python/classojai_1_1store_1_1_document_store_1_1_document_store.html
  17. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/OJAIDocumentMutationSyntax.html#OJAIDocumentMutationSyntax
  18. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/crud-ojai-documents.html#div3entry1
  19. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/crud-ojai-documents.html#div3entry2
  20. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/crud-ojai-documents.html#div3entry3
  21. https://mapr.com/docs/apidocs/61/ojai/java/org/ojai/store/DocumentMutation.html
  22. https://mapr.com/docs/apidocs/61/ojai/java/org/ojai/store/DocumentStore.html#checkAndUpdate-org.ojai.Value-org.ojai.store.QueryCondition-org.ojai.store.DocumentMutation-
  23. https://mapr.com/docs/apidocs/61/ojai/java/org/ojai/store/DocumentStore.html#update-java.lang.String-org.ojai.store.DocumentMutation-
  24. https://mapr.com/docs/apidocs/61/ojai/java/org/ojai/store/QueryCondition.html
  25. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/OJAIDocumentMutationSyntax.html#OJAIDocumentMutationSyntax
  26. https://mapr.com/docs/apidocs/61/ojai/nodejs/classes/documentstore.html#checkandupdate
  27. https://mapr.com/docs/apidocs/61/ojai/nodejs/classes/documentstore.html#update
  28. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/OJAIDocumentMutationSyntax.html#OJAIDocumentMutationSyntax
  29. https://mapr.com/docs/apidocs/61/ojai/python/classojai_1_1store_1_1_document_store_1_1_document_store.html#aa8a0c09444966ded966943cd90980444
  30. https://mapr.com/docs/apidocs/61/ojai/python/classojai_1_1store_1_1_document_store_1_1_document_store.html#aeee152bc51514a553c4048b37bced64c
  31. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/ojai_documents.html#ojai_documents__section_kfl_byf_pdb
  32. file://localhost/root/docsync/tmp/mapr.com/docs/home/MapR-DB/JSON_DB/update-document.html#reference_d41_2qy_41b
