mrconfig info dumpcontainers

   The mrconfig info dumpcontainers command displays information about
   containers including container identifiers, volume identifiers, storage
   pools, total and free inodes per container.

   Example:
$ /opt/mapr/server/mrconfig info dumpcontainers
cid:2352 volid:165226505 sp:SP2:/dev/sde spid:9d28cd7770961b3a005c9210db0a88e9 p
rev:0 next:0 issnap:0 isclone:0 deleteinprog:0 fixedbyfsck:0 stale:0 querycldb:0
 resyncinprog:0 shared:0 owned:518 logical:1080 snapusage:0 snapusageupdated:1 i
smirror:0 isrwmirrorcapable:1 role:0 awaitingrole:0 totalInodes:256 freeInodes:2
01 dare:0 istiered:0 numtotalblocks:0 numpurgedblocks:0 numoffloadedblocks:0 max
Uniq:131298 isResyncSnapshot:0 snapId:0 port:5660
cid:2353 volid:166629060 sp:SP1:/dev/sdh spid:2c9e72229ba0a22a005c9210d801dd4c p
rev:0 next:0 issnap:0 isclone:0 deleteinprog:0 fixedbyfsck:0 stale:0 querycldb:0
 resyncinprog:0 shared:0 owned:577 logical:1243 snapusage:0 snapusageupdated:1 i
smirror:0 isrwmirrorcapable:1 role:1 awaitingrole:0 totalInodes:256 freeInodes:1
97 dare:0 istiered:0 numtotalblocks:0 numpurgedblocks:0 numoffloadedblocks:0 max
Uniq:131232 isResyncSnapshot:0 snapId:0 port:5660
cid:2358 volid:42237139 sp:SP2:/dev/sde spid:9d28cd7770961b3a005c9210db0a88e9 pr
ev:0 next:0 issnap:0 isclone:0 deleteinprog:0 fixedbyfsck:0 stale:0 querycldb:0
resyncinprog:0 shared:0 owned:545 logical:1139 snapusage:0 snapusageupdated:1 is
mirror:0 isrwmirrorcapable:1 role:1 awaitingrole:0 totalInodes:256 freeInodes:19
9 dare:0 istiered:0 numtotalblocks:0 numpurgedblocks:0 numoffloadedblocks:0 maxU
niq:131362 isResyncSnapshot:0 snapId:0 port:5660
cid:2361 volid:42237139 sp:SP2:/dev/sde spid:9d28cd7770961b3a005c9210db0a88e9 pr
ev:0 next:0 issnap:0 isclone:0 deleteinprog:0 fixedbyfsck:0 stale:0 querycldb:0
resyncinprog:0 shared:0 owned:502 logical:1067 snapusage:0 snapusageupdated:1 is
mirror:0 isrwmirrorcapable:1 role:1 awaitingrole:0 totalInodes:256 freeInodes:20
1 dare:0 istiered:0 numtotalblocks:0 numpurgedblocks:0 numoffloadedblocks:0 maxU
niq:131242 isResyncSnapshot:0 snapId:0 port:5660
cid:2368 volid:79742583 sp:SP2:/dev/sde spid:9d28cd7770961b3a005c9210db0a88e9 pr
ev:0 next:0 issnap:0 isclone:0 deleteinprog:0 fixedbyfsck:0 stale:0 querycldb:0
resyncinprog:0 shared:0 owned:451 logical:996 snapusage:0 snapusageupdated:1 ism
irror:0 isrwmirrorcapable:1 role:1 awaitingrole:0 totalInodes:256 freeInodes:202
 dare:0 istiered:0 numtotalblocks:0 numpurgedblocks:0 numoffloadedblocks:0 maxUn
iq:131306 isResyncSnapshot:0 snapId:0 port:5660
cid:2370 volid:79742583 sp:SP1:/dev/sdh spid:2c9e72229ba0a22a005c9210d801dd4c pr
ev:0 next:0 issnap:0 isclone:0 deleteinprog:0 fixedbyfsck:0 stale:0 querycldb:0
resyncinprog:0 shared:0 owned:452 logical:981 snapusage:0 snapusageupdated:1 ism
irror:0 isrwmirrorcapable:1 role:1 awaitingrole:0 totalInodes:256 freeInodes:202
 dare:0 istiered:0 numtotalblocks:0 numpurgedblocks:0 numoffloadedblocks:0 maxUn
iq:131356 isResyncSnapshot:0 snapId:0 port:5660

   See [1]mrconfig for instructions about running mrconfig commands.

Syntax

/opt/mapr/server/mrconfig [-h <host>] [-p <port>] info dumpcontainers

Input Parameters

   Parameter

   Description

   -h

   host IP address; default 127.0.0.1

   -p

   The MapR Filesystem port; default 5660

Output Fields

   Field

   Description

   cid

   Container ID

   volid

   Volume ID of the volume to which this container belongs.
   sp Storage pool to which this container belongs. For example:

   SP2:/dev/sde

   Here, SP2 is the name of the storage pool.

   /dev/sde is the disk on which the container resides.
   spid Storage pool ID
   prev Pointer to the previous snapshot cid or rw cid (for a clone
   container), in a snapshot chain.
   next Pointer to the next snapshot cid or rw cid (for a clone
   container), in a snapshot chain.
   issnap Indicates whether container is a snapshot or not, in a snapshot
   chain.
     * 0 - rw container (Not a snapshot container)
     * 1 - Snapshot

   isclone

   Indicates whether this container is a clone container created as part
   of the resync operation.
     * 0 - Not a clone
     * 1 - Is a clone

   deleteinprog Indicates whether this container is marked for deletion.
     * 0 - Not marked for deletion
     * 1 - Marked for deletion

   fixedbyfsck

   Indicates whether fsck was run on this container to fix any data or
   metadata errors.
     * 0 - fsck was not run on the container
     * 1 - fsck was run on the container

   stale Indicates whether the current cid is a stale cid or not.
   Container is marked as stale when it is yet to be processed for
   cleanup.
     * 0 - Not stale
     * 1 - Stale

   querycldb Indicates whether the container is awaiting its role from
   CLDB at the time of bringing up a cluster.
     * 0 - Not waiting as CLDB has already defined the role for the
       container
     * 1 - Waiting for CLDB to specify the role for the container

   resyncinprog Indicates if the container is resyncing from another
   container in the container chain.
     * 0 - Resyncing in progress
     * 1 - No resyncing

   shared

   Indicates whether the container is hosting any shared data. The value
   is the number of shared data blocks (each of size 8K).
   owned

   Indicates the number of data blocks (each of size 8K) that the
   container owns.
   logical Indicates the number of logical data blocks (each of size 8K)
   that are present in the container.
   snapusage Indicates the number of container blocks (each of size 8K)
   that are used for storing snapshot data.
   snapusageupdated Internal field.
   ismirror Indicates if this container is of a mirror volume or not.

   0 - Is not of a mirror volume

   1- Is of a mirror volume
   isrwmirrorcapable Indicates if the container belongs to a mirror
   volume, and if the volume can be converted to a rw volume, in case the
   primary volume goes down.
     * 0 - Volume cannot be converted
     * 1 - Volume can be converted

   role

   Role of the container, in the container chain.
     * 0 - Master
     * 1 - Not the master

   totalInodes

   Indicates the total number of inodes that can be created on the
   container.
   freeInodes Indicated the number of inodes that are still available to
   be used.
   dare

   Indicates whether the container belongs to a volume that is
   dare-enabled or not.
     * 0 - Volume is not dare-enabled
     * 1 - Volume is dare-enabled

   istiered Indicates whether the container belongs to a tiered (either
   cold-tiered or EC enabled) volume.
     * 0 - Container belongs to a tiered volume
     * 1 - Container does not belong to a tiered volume

   numtotalblocks Applicable only for tiered volumes, this parameter
   indicates the total number of data blocks present in the container.
   numpurgedblocks

   Applicable only for tiered volumes, this parameter indicates the number
   of data blocks that are offloaded and not locally present. This value
   decreases in case of recalls.
   numoffloadedblocks

   Applicable only for tiered volumes, this parameter indicates the number
   of data blocks that are off-loaded to the tier.
   maxUniq Internal field.
   isResyncSnapshot Indicates whether the container belongs to the resync
   snapshot.
     * 0 - Container does not belong to the resync snapshot
     * 1 - Container belongs to the resync snapshot

   snapId Indicates the snapshot ID to which this container belongs, if
   the ID is a snap cid.
   port Indicates the MFS port number used by the container.

Examples

   Display information about containers on a local node
/opt/mapr/server/mrconfig info dumpcontainers

   Display information about containers on a remote node with an IP
   address of xx.xx.xx.xx
/opt/mapr/server/mrconfig -h xx.xx.xx.xx info dumpcontainers

References

   1. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/mrconfig.html
