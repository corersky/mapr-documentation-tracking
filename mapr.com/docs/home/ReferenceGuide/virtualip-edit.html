virtualip edit

   Edits a virtual IP (VIP) range. Permissions required: fc or a.

Syntax

   CLI

maprcli virtualip edit
    [ -cluster <cluster> ]
    [ -macs <MAC addresses> ]
    -netmask <netmask>
    -virtualip <virtualip>
    [ -virtualipend <virtual IP range end> ]
    [ -preferredmac <MAC address> ]
    [ -service nfs3|nfs4 ]

   REST

          Request Type POST
          Request URL
http[s]://<host>:<port>/rest/virtualip/edit?<parameters>

Parameters

   CAPTION:

   Parameter Description
   cluster The cluster on which to run the command.
   macs A list of the MAC addresses that represent the NICs on the nodes
   to which the VIPs in the VIP range can be associated. Use this list to
   limit VIP assignment to NICs on a particular subnet when your NFS
   server is part of multiple subnets.
   netmask The netmask of the virtual IP.
   preferredmac The preferred MAC for this virtual IP. When a NFS server
   restarts, the MapR system attempts to move all of the virtual IP
   addresses that list a MAC address on this node as a preferred MAC to
   this node. If the new value is null, this parameter resets the
   preferred MAC value.
   service The service to which the VIPs need to be assigned. The Value
   can be one of the following:
     * nfs3 — for NFSv3
     * nfs4 — for NFSv4

   The default value is nfs3. You must specify the MAC addresses (macs)
   with this option.
   virtualip The virtual IP, or the start of the virtual IP range.
   virtualipend The end of the virtual IP range.

Examples

     * [1]Single virtual IP
     * [2]REST
     * [3]Virtual IP range
     * [4]REST

maprcli virtualip edit
              -cluster mycluster.402.source
              -macs "09:0C:29:3C:47:AB 00:0c:29:9e:96:15"
              -netmask 255.255.255.0
              -virtualip 10.1.1.5

curl -k -X POST 'https://abc.sj.us:8443/rest/virtualip/remove?cluster=mycluster.
402.source&macs=%2209%3A0C%3A29%3A3C%3A47%3AAB%2000%3A0c%3A29%3A9e%3A96%3A15%22&
netmask=255.255.255.0&virtualip=10.1.1.5' --user mapr:mapr

maprcli virtualip edit
                     -cluster mycluster.402.source
                     -macs "09:0C:29:3C:47:AB 00:0c:29:9e:96:15"
                     -netmask 255.255.255.0
                     -virtualip 10.1.1.5
                     -virtualipend 10.1.1.8

curl -k -X POST 'https://abc.sj.us:8443/rest/virtualip/remove?cluster=mycluster.
402.source&macs=%2209%3A0C%3A29%3A3C%3A47%3AAB%2000%3A0c%3A29%3A9e%3A96%3A15%22&
netmask=255.255.255.0&virtualip=10.1.1.5&virtualipend=10.1.1.8' --user mapr:mapr

References

   1. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/virtualip-edit.html#div1entry1
   2. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/virtualip-edit.html#div1entry2
   3. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/virtualip-edit.html#div1entry3
   4. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/virtualip-edit.html#div1entry4
