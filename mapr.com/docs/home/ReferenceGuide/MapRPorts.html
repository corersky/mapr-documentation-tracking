Ports Used by MapR

Services and Ports Quick Reference

   The table below defines the ports used by a MapR cluster, along with
   the default port numbers.
   Service Source IP Destination IP Port Purpose Parameter and File where
   Port is Configured
   CLDB Nodes running any MapR services, clients interacting with MapRFS
   Cluster nodes running CLDB services 7222 MapR Filesystem API calls
   /opt/mapr/conf/cldb.conf, /opt/mapr/conf/warden.conf,
   /opt/mapr/conf/mapr-clusters.conf
   CLDB JMX monitor port Nodes running CLDB services CLDB JMX monitor port
   7220 The port on which Collectd gathers CLDB metrics via JMX. N/A
   CLDB web port Nodes/clients connecting to the CLDB GUI Cluster nodes
   running CLDB services 7221 CLDB GUI /opt/mapr/conf/cldb.conf
   Data Access Gateway Clients using the MapR Database JSON REST API with
   HTTPS Cluster nodes running the Data Access Gateway service 8243 The
   port used to connect to the Data Access Gateway using HTTPS
   rest.https.port in /opt/mapr/data-access-gateway/conf/properties.cfg
   Node.js OJAI client 5678 The port used to connect the OJAI client to
   the Data Access Gateway grpc.service.port in
   /opt/mapr/data-access-gateway/conf/properties.cfg
   Python OJAI client
   DNS All cluster nodes Server running DNS 53 Domain Name Service N/A
   Drill JMX Port Nodes running the Drillbit Drill JMX Port 6090 The port
   on which Collectd gathers Drill metrics via JMX.
   Drill Web UI Nodes running the Drillbit service Nodes running the
   Drillbit service 8047 TCP port needed for the Drill Web UI and clients
   using REST API and nodes running the Drillbit service.
   drill.exec.http.port in
   /opt/mapr/drill/drill-<version>/conf/drill-override.conf
   Drill Nodes running the Drillbit service and clients using JDBC/ODBC
   and nodes running the Drillbit service. Nodes running the Drillbit
   service 31010 TCP user port address. Used between nodes in a Drill
   cluster. Needed for an external client, such as Tableau, to connect
   into the cluster nodes. Also needed for the Drill Web UI. You can also
   use this port to connect directly to a Drillbit.
   drill.exec.rpc.user.server.port in
   /opt/mapr/drill/drill-<version>/conf/drill-override.conf
   Drill Nodes running the Drillbit service Nodes running the Drillbit
   service 31011 TCP port that controls the port address. Used between
   nodes in a Drill cluster. Needed for multi-node installation of Drill.
   drill.exec.rpc.bit.server.port in
   /opt/mapr/drill/drill-<version>/conf/drill-override.conf
   Drill Nodes running the Drillbit service Nodes running the Drillbit
   service 31012 TCP data port address. Used between nodes in a Drill
   cluster. Needed for multi-node installation of Drill.
   drill.exec.rpc.bit.server.port + 1 in
   /opt/mapr/drill/drill-<version>/conf/drill-override.conf
   Drill Clients using JDBC/ODBC and nodes running ZooKeeper services.
   Nodes running the Drillbit service 5181 ZooKeeper port used to connect
   to Drill through the JDBC driver. See the ZooKeeper entry in this
   table.
   Elasticsearch Non-Elasticsearch components, such a web browser, curl,
   and Kibana, that connect to Elasticsearch. Nodes running Elasticsearch
   for MapR Monitoring use cases 9200 Non-Elasticsearch components use
   this port when communicating with Elasticsearch. You can configure
   different port for MapR Monitoring use cases when you run
   [1]configure.sh with the -ES parameter.
   Nodes running Elasticsearch Nodes running Elasticsearch for MapR
   Monitoring use cases 9300 Elasticsearch uses this port for
   communications between Elasticsearch daemons.
   File Migration Service     9444 File Migration service UI
   /opt/mapr/conf/conf.d/warden.filemigrate.conf
   Gateway Nodes sending operations to replicate Nodes running the gateway
   service 7660 The port used by gateway services to listen for incoming
   replication operations.
   Grafana Web browsers Nodes running Grafana for MapR Monitoring use
   cases. 3000 Web browsers use this port when connecting to Grafana. N/A
   HBase Thrift Server   Nodes running HBase Thrift Server 9090
   HBase REST Server   Nodes running HBase REST Server 8085
   HistoryServer RPC   Nodes running MapReduce JobHistory Server 10020
   HistoryServer Web UI and REST APIs Clients that access Job History
   Server UI in a non-secure cluster Secure nodes running MapReduce
   JobHistory Server in a non-secure cluster 19888 Non-secure
   HistoryServer Web UI and REST APIs see [2]mapred-site.xml
   Clients that access Job History Server UI in a secure cluster Secure
   nodes running MapReduce JobHistory Server in a secure cluster 19890
   Secure HistoryServer Web UI and REST APIs see [3]mapred-site.xml
   Hive Metastore Nodes/clients performing Hive queries/operations Nodes
   running the Hive metastore services 9083 Used by Hive clients to
   query/access the Hive metastore
   /opt/mapr/hive/hive-<version>/conf/hive-site.xml
   Hiveserver2 Nodes or clients performing hive queries using JDBC/ODBC
   Nodes running Hiveserver2 10000
   Httpfs Nodes/clients accessing httpfs services Nodes running httpfs
   services 14000 Used by httpfs file clients to access the httpfs server
   /opt/mapr/httpfs/httpfs-<version>/etc/hadoop/httpfs-env.sh
   Hue Webserver Nodes/clients accessing Hue web services Nodes running
   Hue web services 8888 Used by Hue webserver clients to access the Hue
   webserver /opt/mapr/hue/hue*/desktop/conf/hue.ini
   Impala Catalog Daemon Nodes running Impala Daemon Nodes running Impala
   Catalog Daemon 25020 Catalog service web interface for monitoring and
   troubleshooting. Available in Impala 1.2 and higher.
   Impala Daemon Clients using JDBC/ODBC and nodes running Impala Daemon
   Nodes running Impala Daemon 21000 Used to transmit commands and receive
   results by impala-shell.
   Impala Daemon Nodes running Impala Daemon Nodes running Impala Daemon
   21050 Used by applications, such as Business Intelligence tools, to
   transmit commands and receive results using JDBC.
   Impala Daemon Nodes running Impala Daemon Nodes running Impala Daemon
   25000 Impala web interface for monitoring and troubleshooting.
   Impala StateStoreDaemon Nodes running Impala Daemon Nodes running
   Impala StateStore Daemon 25010 StateStore web interface for monitoring
   and troubleshooting.
   KSQL All cluster nodes Nodes running KSQL 8084 KSQL
   $KSQL_INSTALL_DIR/etc/ksql/ksqlserver.properties
   Kafka Connect All cluster nodes Nodes running Kafka Connect 8083 Kafka
   Connect REST API calls
   /opt/mapr/kafka/kafka-<version>/config/connect-distributed.properties
   Kafka REST All cluster nodes Nodes running Kafka REST 8082 Kafka REST
   API calls
   /opt/mapr/kafka-rest/kafka-rest-<version>/config/kafka-rest.properties
   Kibana Web browsers Nodes running Kibana for MapR Monitoring use cases
   5601 Web browsers use this port when connecting to Grafana. N/A
   LDAP All cluster nodes Server running LDAP 389
   LDAPS All cluster nodes Server running LDAP SSL 636
   maprlogin utility Connections via the maprlogin utility Cluster nodes
   running CLDB services 7443 When security is enabled for a cluster, the
   CLDB listens for connections on port 7443. If security is disabled, the
   maprlogin utility is unable to reach the CLDB.
   MAST Gateway Nodes running MAST Gateway service Nodes running MAST
   Gateway service 8660   /opt/mapr/conf/mastgateway.conf
   MapR Filesystem server Nodes running any MapR services, clients
   interacting with MapRFS Nodes running FileServer services 5660, 5692,
   5724, and 5756
   Clients using maprcli commands or the MapR Control System UI Nodes
   running hoststats service 1111 Hoststats listening port for MapR
   Metrics RPC activity /opt/mapr/conf/warden.conf
   Nodes running the gateway service Nodes running MapR Filesystem 6660
   The port on which gateway nodes send replicated operations to nodes in
   destination clusters.
   MapR Filesystem server instances     See [4]Ports for Multiple
   Instances of MapR Filesystem Multiple MapR Filesystem instances
   MySQL Nodes running the mapr-metrics package Nodes running the MySQL
   database for system metrics and jobs display 3306 Used for mySQL
   traffic between the web services client and its mySQL backend server
   NFS Nodes/clients accessing MapRFS via the NFS protocol Nodes running
   MapR NFS Services 2049 NFSv3 or NFSv4 access to MapR Filesystem
   Nodes running NFS services Nodes running NFS services 9997 NFS VIP
   Management /opt/mapr/conf/nfsserver.conf
   9998 /opt/mapr/conf/nfsserver.conf
   NodeManager JMX Port Nodes running NodeManager NodeManager JMX Port
   8027 The port on which Collectd gathers metrics from NodeManager nodes
   via JMX.
   NodeManager Nodes running NodeManager   8099   yarn.nodemanager.address
   in /opt/mapr/hadoop/hadoop-<version>/etc/hadoop/yarn-site.xml
   NodeManager Localizer RPC Nodes running NodeManager   8040
   yarn.nodemanager.localizer.address in
   /opt/mapr/hadoop/hadoop-<version>/etc/hadoop/yarn-site.xml
   NodeManager Web UI and REST APIs External Web browsers and REST clients
   accessing NodeManager services in a non-secure cluster Nodes running
   NodeManager services in a non-secure cluster 8042
   yarn.nodemanager.webapp.address in
   /opt/mapr/hadoop/hadoop-<version>/etc/hadoop/yarn-site.xml
   External Web browsers and REST clients accessing NodeManager services
   in a secure cluster Secure nodes running NodeManager 8044 Specifies
   NodeManager https port yarn.nodemanager.webapp.https.address in
   /opt/mapr/hadoop/hadoop-<version>/etc/hadoop/yarn-site.xml
   NTP All cluster nodes Server running NTP 123 Network Time Protocol
   Oozie Nodes/clients accessing Oozie services in a non-secure cluster
   Nodes running Oozie services in a non-secure cluster 11000 Used by
   Oozie clients to access the Oozie server in a non-secure cluster
   /opt/mapr/oozie/oozie-<version>/conf/oozie-env.sh
   Nodes/clients accessing Oozie services in a secure cluster Nodes
   running Oozie services in a secure cluster 11443 Used by Oozie clients
   to access the Oozie server in a secure cluster
   /opt/mapr/oozie/oozie-<version>/conf/oozie-env.sh
   OpenTSDB OpenTSDB clients, such as Collectd. Nodes running OpenTSDB for
   MapR Monitoring use cases. 4242 Collectd uses this port to write
   metrics to OpenTSDB. You can configure a different port for MapR
   Monitoring use cases when you run [5]configure.sh with the -OT
   parameter.
   Port mapper Nodes running MapR NFS Services Nodes/clients accessing
   MapRFS via the NFS protocol 111 RPC Portmap services used to connect to
   MapR Filesystem via NFSv3
   ResourceManager JMX Port Nodes running ResourceManager ResourceManager
   JMX port 8025 The port on which Collectd gathers metrics from the
   ResourceManager via JMX.
   ResourceManager Admin RPC Applications that access the ResourceManager
   Nodes running ResourceManager 8033   yarn.resourcemanager.admin.address
   in /opt/mapr/hadoop/hadoop-<version>/etc/hadoop/yarn-site.xml
   ResourceManager Client RPC Clients that submit YARN applications Nodes
   running ResourceManager 8032   yarn.resourcemanager.address in
   /opt/mapr/hadoop/hadoop-<version>/etc/hadoop/yarn-site.xml
   ResourceManager Resource Tracker RPC (for NodeManagers) Applications
   that access the ResourceManager Nodes running ResourceManager 8031
   yarn.resourcemanager.resource-tracker.address in
   /opt/mapr/hadoop/hadoop-<version>/etc/hadoop/yarn-site.xml
   ResourceManager Scheduler RPC (for ApplicationMasters) Applications
   that access the ResourceManager Nodes running ResourceManager 8030 The
   port on which the applications in the cluster talk to the
   ResourceManager. yarn.resourcemanager.scheduler.address in
   /opt/mapr/hadoop/hadoop-<version>/etc/hadoop/yarn-site.xml
   ResourceManager Web UI (HTTP) Clients that access ResourceManager UI in
   a non-secure cluster Nodes running ResourceManager master in a
   non-secure cluster 8088 ResourceManager Web UI
   yarn.resourcemanager.webapp.address in
   /opt/mapr/hadoop/hadoop-<version>/etc/hadoop/yarn-site.xml
   Clients that access ResourceManager UI in a secure cluster Nodes
   running ResourceManager master in a secure cluster 8090 ResourceManager
   Web UI yarn.resourcemanager.webapp.address in
   /opt/mapr/hadoop/hadoop-<version>/etc/hadoop/yarn-site.xml
   Shuffle HTTP   Shuffle HTTP 13562
   SMTP     25
   Spark Standalone Master (RPC)     7077 The port on which to submit jobs
   in a Spark standalone cluster. SPARK_MASTER_PORT in
   SPARK_HOME/conf/spark-env.sh
   Spark Standalone Master (Web UI) Nodes/clients accessing Spark services
   in a non-secure cluster Nodes running Spark services in a non-secure
   cluster 8580 The port on which browsers connect to Spark master in a
   non-secure Spark standalone cluster. SPARK_MASTER_WEBUI_PORT in
   SPARK_HOME/conf/spark-env.sh
   Nodes/clients accessing Spark services in a secure cluster Nodes
   running Spark services in a secure cluster 8980 The port on which
   browsers connect to Spark master in a secure Spark standalone cluster.
   spark.ssl.standalone.port in SPARK_HOME/conf/spark-defaults.conf
   (starting from Spark-2.2.1)
   Spark Standalone Worker     8081 The port on which browsers connect to
   Spark worker in a Spark standalone cluster. SPARK_WORKER_WEBUI_PORT in
   SPARK_HOME/conf/spark-env.sh
   Spark Thrift Server (if start and stop server using Spark scripts)
   10000 The port on which JDBC clients connect to Spark Thrift server.
   hive.server2.thrift.port in SPARK_HOME/conf/hive-site.xml
   Spark Thrift Server (if start and stop server through Warden, starting
   in MEP 4.0)     2304 The port on which JDBC clients connect to Spark
   Thrift server. hive.server2.thrift.port in
   SPARK_HOME/conf/hive-site.xml
   Spark History Server Clients that access Spark Job History in a
   non-secure cluster Nodes running Spark History Server in a non-secure
   cluster 18080 The port on which browsers connect to a non-secure Spark
   history server. spark.history.ui.port in
   SPARK_HOME/conf/spark-default.conf"
   Clients that access Spark Job History in a secure cluster Nodes running
   Spark History Server in a secure cluster 18480 The port on which
   browsers connect to a secure Spark history server.
   spark.ssl.historyServer.port in SPARK_HOME/conf/spark-defaults.conf
   (starting from Spark-2.2.1)
   Spark External Shuffle Service     7337 The port on which Spark jobs
   connect to External Shuffle server. spark.shuffle.service.port in
   SPARK_HOME/conf/spark-default.conf
   Sqoop2 Server Nodes/clients accessing Sqoop2 services Nodes running
   Sqoop2 services 12000 Used by Sqoop2 clients to access the Sqoop2
   server
   SSH Nodes/client running mapr-support-collect.sh or maprcli disk API
   calls Nodes running any MapR services 22 The mapr-support-collect.sh
   leverages SSH over port 22 to connect to a shell environment on cluster
   nodes in which the mapr-support-dump.sh script will be run N/A
   Timeline Server (Hive-on-Tez UI)     10200
   Timeline Server (Hive-on-Tez) Web Interface (HTTP)     8188
   Timeline Server (Hive-on-Tez) Web Interface (HTTPS)     8190
   Tomcat Port (Hive-on-Tez UI)     9383
   Web UI External web browser accessing non-secure cluster Nodes running
   MapR MCS Web UI in a non-secure cluster 8443 MapR Control System Web UI
   /opt/mapr/apiserver/conf/properties.cfg
   External web browser accessing secure cluster Nodes running MapR MCS
   Web UI in a secure cluster MapR Control System Web UI
   Zeppelin     9995 The port you use to connect to the Zeppelin Docker
   container Configurable by setting ZEPPELIN_SSL_PORT when running the
   Zeppelin Docker image
   ZooKeeper Nodes running ZooKeeper services, clients executing ZooKeeper
   API calls Nodes running ZooKeeper services 5181 ZooKeeper API calls
   /opt/mapr/zookeeper/zookeeper-<version>/conf/zoo.cfg,
   /opt/mapr/conf/warden.conf, /opt/mapr/conf/cldb.conf,
   /opt/mapr/hbase/hbase-<version>/conf/hbase-site.xml,
   /opt/mapr/hive/hive-<version>/conf/hive-site.xml
   ZooKeeper follower-to-leader communication Nodes running ZooKeeper
   services Nodes running ZooKeeper services 2888 ZooKeeper Server >
   Server Communication
   /opt/mapr/zookeeper/zookeeper-<version>/conf/zoo.cfg
   ZooKeeper leader election Nodes running ZooKeeper services Nodes
   running ZooKeeper services 3888 ZooKeeper Server > Server Communication
   /opt/mapr/zookeeper/zookeeper-<version>/conf/zoo.cfg

Avoiding Port Conflicts

   To avoid eventual trouble with port conflicts on your MapR clusters,
   try these tips:
     * Remap the ports for the HBaseMaster and HBaseRegionServer services
       to ports below 32768.
     * Set the ephemeral port range to stop at 50029 by changing the value
       in the file /proc/sys/net/ipv4/ip_local_port_range. Note that this
       setting changes the available number of ephemeral ports from the
       default of 28,233 ports to 17,233.

References

   1. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/configure.sh.html#configure.sh
   2. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/mapred-site.xml.html
   3. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/mapred-site.xml.html
   4. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdministratorGuide/Multi-MFS-Overview.html#Multi-MFS-Overview__ports
   5. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/configure.sh.html#configure.sh
