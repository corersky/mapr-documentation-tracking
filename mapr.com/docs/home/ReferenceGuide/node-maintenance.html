node maintenance

   Places a node into a maintenance mode for a specified duration.
   Important: Stop CLDB if it is running on the node, before putting that
   node in maintenance mode. Else, the maintenance mode operation is not
   permitted.

   For the duration of the maintenance mode, the cluster's CLDB does not
   consider the data of this node as lost and does not trigger a resync of
   the data on this node. See [1]Administering Nodes for more information.

Syntax

   CLI

/opt/mapr/bin/maprcli node maintenance
    [ -cluster <cluster> ]
    [ -serverids <serverids> ]
    -nodes <node names>
    -timeoutminutes <timeout in minutes>

   REST

          Request Type POST
          Request URL
http[s]://<host>:<port>/rest/node/maintenance?<parameters>

Parameters

   Parameter

   Description

   cluster

   The cluster on which to run the command.

   serverids

   List of server IDs

   nodes

   List of nodes, space separated.

   timeoutminutes

   Duration of the maintenance mode in minutes

Examples

     * [2]CLI
     * [3]REST

/opt/mapr/bin/maprcli node maintenance -nodes centos22.lab -timeoutminutes 20

curl -u mapr:mapr -X POST -k 'https://abc.sj.us:8443/rest/node/maintenance?nodes
=centos22.lab&timeoutminutes=20'

References

   1. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdministratorGuide/c-managing-nodes.html
   2. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/node-maintenance.html#div1entry1
   3. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReferenceGuide/node-maintenance.html#div1entry2
