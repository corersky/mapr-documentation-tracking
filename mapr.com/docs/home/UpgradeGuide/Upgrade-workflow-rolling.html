Workflow: Manual Rolling Upgrade to MapR 6.1

   This page summarizes the steps for upgrading from MapR 5.2.x to MapR
   6.1 by using a manual rolling upgrade. In this workflow, the cluster to
   be upgraded is nonsecure; after the upgrade, the cluster will continue
   to be nonsecure, but can be secured by using manual steps.

Manual Rolling Upgrade Summary

   In a manual rolling upgrade, you upgrade the MapR software one node at
   a time so that the cluster as a whole remains operational throughout
   the process. The manual rolling upgrade requires you to:
    1. Perform pre-upgrade checks
    2. Perform a rolling upgrade of MapR Core
    3. Verify that all use cases are functional on the cluster
    4. Upgrade the MEP to 6.0.0
    5. Merge custom configuration settings
    6. Enable MapR 6.1.0 features
    7. Perform post-upgrade checks

   The workflow later in this section provides more detail to help you get
   started with a manual rolling upgrade.

Considerations for Manual Rolling Upgrades

   Before performing a manual rolling upgrade, note these considerations:
     * Rolling upgrades only upgrade MapR packages, not ecosystem
       components. A rolling upgrade of ecosystem components is not
       supported.
     * If you choose to do a rolling upgrade on a cluster with MapR Core
       and MapR ecosystem components, the ecosystem components will
       continue to work during the rolling upgrade as long as the
       components are not updated. If you choose to upgrade MapR Core and
       ecosystem components together, the ecosystem components might not
       function properly during the upgrade process.
     * You can only perform a manual rolling upgrade from the following
       MapR versions:
          + MapR 5.2.x with MEP 3.0.1 or later
          + MapR 6.0.0 with MEP 5.0.x
          + MapR 6.0.1 with MEP 4.0.x or 4.1.x
     * If your cluster is running MapR 5.2.x but your MEP is not 3.0.1 or
       later (for example, you have MEP 2.0.3), you must upgrade to MEP
       3.0.1 or later before you can do a rolling upgrade to MapR 6.1.0.
       See [1]Upgrading MapR Expansion Packs.
     * If you want to use a manual rolling upgrade from a pre-5.2 release
       to MapR 6.1, you must do multiple rolling upgrades, one of which
       upgrades your cluster to a MapR / MEP combination that can upgrade
       directly to MapR 6.1.
     * After upgrading MapR Core to MapR 6.1.0, you must upgrade ecosystem
       components to MEP 6.0.0 or later, and this must be done before you
       enable MapR 6.1 features

Manual Rolling Upgrade Workflow

   High-Level Steps Detailed Information (review all items unless noted
   otherwise)
   1. Understand MapR Core/MEP Dependencies

   Down arrow
     * [2]Operating System Support Matrix (MapR 6.x)
     * [3]Operating System Support Matrix (MapR 5.x)
     * [4]MEP Support by MapR Core Version
     * [5]Component Versions for Released MEPs

   2. Plan for the MapR Core Upgrade

   Down arrow
     * [6]Upgrading and Your License
     * [7]Installation and Upgrade Notes (MapR 6.0)
     * [8]Installation and Upgrade Notes (MapR 6.0.1)
     * [9]Installation and Upgrade Notes (MapR 6.1.0)
     * [10]Planning the MapR Core Upgrade

   3. Plan for the MEP Upgrade

   Down arrow
     * [11]Planning MapR Expansion Pack (MEP) Upgrades

   4. Perform Pre-Upgrade Steps for MapR Core

   Down arrow
     * [12]Preparing to Upgrade MapR Core

   5. Prepare to Upgrade MEP Components

   Down arrow
     * [13]Preparing to Upgrade the Expansion Pack

   6. Set up Repositories

   Down arrow
     * [14]Setting Up Repositories

   7. Perform the Manual Rolling Upgrade

   Down arrow
     * [15]Manual Rolling Upgrade Description
     * [16]Manual Rolling Upgrade Procedure

   8. Upgrade the MEP Components

   Down arrow
     * [17]Upgrading the Expansion Pack Without the MapR Installer

   9. Perform Post-Upgrade Steps for MEP

   Down arrow
     * [18]Finishing the Expansion Pack Upgrade

   10. Perform Post-Upgrade Steps for MapR Core

   Down arrow
     * [19]Restart and Check Cluster Services
     * [20]Manually Update Configuration Files
     * [21]Manually Update Your License
     * [22]Enable New Features
     * [23]Update Hadoop Configuration File

   11. Upgrade Clients

   Down arrow
     * [24]Upgrading Clients

   12. Install Additional MapR Core Features

   Down arrow
     * [25]Installing Additional MapR Core Features

   13. Secure the Upgraded Cluster
     * [26]Securing the Upgraded Cluster

References

   1. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/UpgradingEcoPacks.html#concept_ajq_lt5_jx
   2. https://mapr.com/docs/home/InteropMatrix/r_os_matrix_6.x.html
   3. https://mapr.com/docs/home/InteropMatrix/r_os_matrix.html
   4. file://localhost/root/docsync/tmp/mapr.com/docs/home/InteropMatrix/r_mep_support_core_version.html#reference_jqk_b2m_zz
   5. https://maprdocs.mapr.com/61/InteropMatrix/Component_versions_all_MEPs.html
   6. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/License-upgrade.html#license-upgrade
   7. https://mapr.com/docs/60/ReleaseNotes/install_upgrade_notes_60.html
   8. https://mapr.com/docs/60/ReleaseNotes/install_upgrade_notes.html
   9. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReleaseNotes/install_upgrade_notes.html
  10. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Planning-the-Upgrade.html#PlanningtheUpgrade
  11. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Planning-MEP-Upgrades.html#concept_q3k_qkl_kx
  12. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Preparing-to-Upgrade.html#PreparingtoUpgrade
  13. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/PerformInstallerPreupgrade.html#PreupgradeMapRInstaller
  14. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/SetUpRepository.html#set-up-repositories
  15. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Manual-Rolling-Upgrade.html#ManualRollingUpgradeto5.0
  16. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/ManualRollingUpgradeProcedure.html#ManualRollingUpgrade
  17. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Upgrading-Ecosystem-Components.html#concept_px4_v1g_jw
  18. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/PostUpgradeSteps_MapRInstaller.html#concept_q5c_bsh_cv
  19. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/RestartingClusterServices.html#RestartingClusterServices
  20. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/PostUpgradeMapR-config-files.html#post-upgrade-mapr-config-files
  21. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/PostUpgradeMapR-license.html#PostUpgradeMapR-license
  22. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Configuring-the-New-Version.html#ConfiguringtheNewVersion
  23. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/PostUpgrade-hadoop-config.html#task_t44_3hk_tw
  24. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/UpgradingClients.html#UpgradingClients
  25. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/NewFeaturesAfterUpgrade.html#concept_b3l_mjl_kw
  26. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Securing_upgraded_cluster.html#concept_cbb_tlw_5bb
