Workflow: Offline Manual Upgrade to MapR 6.1

   This page summarizes the steps for upgrading from MapR 5.2.x to MapR
   6.1 by using the offline manual upgrade. In this workflow, the cluster
   to be upgraded is nonsecure; after the upgrade, the cluster will
   continue to be nonsecure, but can be secured by using manual steps.

Offline Manual Upgrade Summary

   In an offline manual upgrade, MapR processes and the jobs that depend
   on them are stopped on all nodes so that packages can be updated. The
   offline upgrade process is simpler than a rolling upgrade, and usually
   completes faster. The offline manual upgrade requires you to:
    1. Perform pre-upgrade checks
    2. Shut down the cluster
    3. Upgrade MapR Core to 6.1.0
    4. Upgrade the MEP to 6.0.0
    5. Merge custom configuration settings
    6. Start the cluster and perform post-upgrade checks
    7. Enable MapR 6.1.0 features

   The workflow later in this section provides more detail to help you get
   started with an offline manual upgrade.

Considerations for Offline Manual Upgrades

   Before performing an offline manual upgrade, note the following
   considerations:
   Note: After upgrading MapR Core to MapR 6.1.0, you must upgrade
   ecosystem components to a MEP that is compatible with your MapR 6.1.0
   release. This must be done before you enable MapR 6.1.0 features. To
   determine the compatible MEPs, see [1]MEP Support by MapR Core Version.
     * You can perform an offline upgrade to MapR 6.1.0 from the following
       MapR versions: 3.x, 4.0.x, 4.1, 5.x, and 6.x.
     * The offline upgrade procedure requires an outage of the entire
       cluster. During the maintenance window, the administrator:
          + Stops all jobs on the cluster.
          + Stops all cluster services.
          + Upgrades packages on all nodes (which can be done in
            parallel).
          + Brings the cluster back online at once.

Offline Manual Upgrade Workflow

   High-Level Steps Detailed Information (review all items unless noted
   otherwise)
   1. Understand MapR Core/MEP Dependencies

   Down arrow
     * [2]Operating System Support Matrix (MapR 6.x)
     * [3]Operating System Support Matrix (MapR 5.x)
     * [4]MEP Support by MapR Core Version
     * [5]Component Versions for Released MEPs

   2. Plan for the MapR Core Upgrade

   Down arrow
     * [6]Upgrading and Your License
     * [7]Installation and Upgrade Notes (MapR 6.0)
     * [8]Installation and Upgrade Notes (MapR 6.0.1)
     * [9]Installation and Upgrade Notes (MapR 6.1.0)
     * [10]Planning the MapR Core Upgrade

   3. Plan for the MEP Upgrade

   Down arrow
     * [11]Planning MapR Expansion Pack (MEP) Upgrades

   4. Perform Pre-Upgrade Steps for MapR Core

   Down arrow
     * [12]Preparing to Upgrade MapR Core

   5. Prepare to Upgrade MEP Components

   Down arrow
     * [13]Preparing to Upgrade the Expansion Pack

   6. Set up Repositories

   Down arrow
     * [14]Setting Up Repositories

   7. Perform the Offline Manual Upgrade

   Down arrow
     * [15]Offline and Manual Upgrade Procedure

   8. Upgrade the MEP Components

   Down arrow
     * [16]Upgrading the Expansion Pack Without the MapR Installer

   9. Perform Post-Upgrade Steps for MEP

   Down arrow
     * [17]Finishing the Expansion Pack Upgrade

   10. Perform Post-Upgrade Steps for MapR Core

   Down arrow
     * [18]Restart and Check Cluster Services
     * [19]Manually Update Configuration Files
     * [20]Manually Update Your License
     * [21]Enable New Features
     * [22]Update Hadoop Configuration File

   11. Upgrade Clients

   Down arrow
     * [23]Upgrading Clients

   12. Install Additional MapR Core Features

   Down arrow
     * [24]Installing Additional MapR Core Features

   13. Secure the Upgraded Cluster
     * [25]Securing the Upgraded Cluster

References

   1. https://maprdocs.mapr.com/home/InteropMatrix/r_mep_support_core_version.html
   2. https://mapr.com/docs/home/InteropMatrix/r_os_matrix_6.x.html
   3. https://mapr.com/docs/home/InteropMatrix/r_os_matrix.html
   4. file://localhost/root/docsync/tmp/mapr.com/docs/home/InteropMatrix/r_mep_support_core_version.html#reference_jqk_b2m_zz
   5. https://maprdocs.mapr.com/61/InteropMatrix/Component_versions_all_MEPs.html
   6. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/License-upgrade.html#license-upgrade
   7. https://mapr.com/docs/60/ReleaseNotes/install_upgrade_notes_60.html
   8. https://mapr.com/docs/60/ReleaseNotes/install_upgrade_notes.html
   9. file://localhost/root/docsync/tmp/mapr.com/docs/home/ReleaseNotes/install_upgrade_notes.html
  10. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Planning-the-Upgrade.html#PlanningtheUpgrade
  11. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Planning-MEP-Upgrades.html#concept_q3k_qkl_kx
  12. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Preparing-to-Upgrade.html#PreparingtoUpgrade
  13. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/PerformInstallerPreupgrade.html#PreupgradeMapRInstaller
  14. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/SetUpRepository.html#set-up-repositories
  15. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Manual-Offline-Upgrade.html#UpgradingMapRCoreManual
  16. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Upgrading-Ecosystem-Components.html#concept_px4_v1g_jw
  17. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/PostUpgradeSteps_MapRInstaller.html#concept_q5c_bsh_cv
  18. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/RestartingClusterServices.html#RestartingClusterServices
  19. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/PostUpgradeMapR-config-files.html#post-upgrade-mapr-config-files
  20. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/PostUpgradeMapR-license.html#PostUpgradeMapR-license
  21. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Configuring-the-New-Version.html#ConfiguringtheNewVersion
  22. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/PostUpgrade-hadoop-config.html#task_t44_3hk_tw
  23. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/UpgradingClients.html#UpgradingClients
  24. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/NewFeaturesAfterUpgrade.html#concept_b3l_mjl_kw
  25. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Securing_upgraded_cluster.html#concept_cbb_tlw_5bb
