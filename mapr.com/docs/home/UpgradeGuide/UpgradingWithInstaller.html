Upgrading MapR Core With the MapR Installer

   If the cluster that you want to upgrade was installed using the MapR
   Installer, use the MapR Installer to upgrade MapR core.
   Before you begin, review [1]Planning the MapR Core Upgrade, and verify
   that your cluster is [2]prepared for an upgrade. In some cases, a
   maintenance update can be performed rather than a version upgrade. For
   more information, see [3]Performing a Maintenance Update
   Warning: The Version Upgrade operation is an offline operation. Service
   failures, job failures, or the loss of customized configuration files
   can occur if you do not perform the steps to prepare the cluster for an
   upgrade.
   Note: To upgrade to MapR 6.0 or later using the MapR Installer, MapR
   5.2.x and MEP 3.0.1 or later must be installed on your cluster. If
   security is enabled on the cluster, you cannot use the MapR Installer
   or Stanzas to upgrade. You must perform the upgrade manually.
    1. Update the MapR Installer. For more information, see [4]Updating
       the MapR Installer.
       This step ensures that the MapR Installer has access to the latest
       packages.
    2. Halt jobs and applications. Stop accepting new jobs and
       applications, and stop YARN applications.
# yarn application -list
# yarn application -kill <ApplicationId>
       You might also need specific commands to terminate custom
       applications.
    3. Launch the MapR Installer URL (https://<hostname/IPaddress>:9443)
    4. Select the Version Upgrade option to complete the upgrade through
       the MapR Installer. The installer allows you to specify the MapR
       version, the MapR Expansion Pack (MEP) version, and the components
       and services you want to install.
       Note:
          + If you upgrade a non-secure cluster to MapR 6.0.1 or later and
            metrics monitoring is enabled, the MapR Installer asks you to
            specify a password for the Grafana administrator ID (admin).
            You must specify a password. For more information about
            Grafana password requirements, see [5]Logging on to Grafana.
          + If the MapR Installer indicates that the version upgrade
            failed, or if the following error message is displayed, use
            the Import State command to revert the cluster to the last
            known state. See [6]Importing or Exporting the Cluster State.
Custom secure cluster < MapR core 6.0.0 cannot be upgraded
       If the MapR Installer indicates that the version upgrade failed, or
       if the following error message is displayed, use the Import State
       command to revert the cluster to the last known state. See
       [7]Importing or Exporting the Cluster State.
Custom secure cluster < MapR core 6.0.0 cannot be upgraded
    5. Once the upgrade through the MapR Installer is complete, perform
       the post-upgrade steps. See [8]Finishing the MapR Core Upgrade.

References

   1. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Planning-the-Upgrade.html#PlanningtheUpgrade
   2. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Preparing-to-Upgrade.html
   3. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/performing_maint_update.html#concept_zhy_ggq_hz
   4. https://maprdocs.mapr.com/home/UpgradeGuide/c_installer_update.html
   5. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdministratorGuide/Logging_on_to_Grafana.html#concept_abf_rfs_hdb
   6. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdvancedInstallation/importing_or_exporting_cluster_state.html#task_x4w_znb_hbb
   7. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdvancedInstallation/importing_or_exporting_cluster_state.html#task_x4w_znb_hbb
   8. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/Post-Upgrade-Steps.html#concept_fcl_jrm_gw
