MapR Core Upgrade Process

   When you upgrade MapR Core, you will also upgrade a number of cluster
   components.

   The following cluster components are upgraded with MapR core:
     * Storage Layer: MapR Filesystem fileserver and Container Location
       Database (CLDB) services
     * Cluster Management Services: ZooKeeper and Warden
     * NFS server
     * Web server, including the MapR Control System user interface and
       REST API to cluster services
     * The maprcli commands for managing cluster services
     * Any new features and performance enhancements introduced with the
       new version.

   When you upgrade MapR core, the following changes occur within the
   /opt/mapr directory:
     * If required, additional folders are added.
     * Product binaries are replaced by binaries associated with the new
       version.
     * Existing configuration files remain in the active directory and
       default configuration files associated with the new version are
       installed in a new directory:

   Default Configuration File Directories Active Configuration File
   Directories
   /opt/mapr/conf.new
   /opt/mapr/conf
   /opt/mapr/conf/conf.d.new /opt/mapr/conf/conf.d

   When MapR core includes an updated hadoop common version, a new hadoop
   directory is installed and the following changes also occur:
     * The /opt/mapr/conf/hadoop_version file reflects the new hadoop
       version number.
     * Paths in the /opt/mapr/conf/conf.d/warden.<servicename>.conf files
       reflect the new hadoop directory.
     * The following symlinks in /opt/mapr/lib reflect the new hadoop
       version:
          + hadoop-auth-2.x.x.jar
          + hadoop-yarn-api-2.x.x.jar
          + hadoop-yarn-client-2.x.x.jar
          + hadoop-yarn-common-2.x.x.jar
          + hadoop-common-2.x.x.jar
     * A new hadoop 2.x directory is created under /opt/mapr/hadoop.
       If a hadoop 2.x directory already exists, the configuration files
       from the existing hadoop 2.x directory will replace the default
       configuration files in the new 2.x hadoop directory thereby
       retaining the existing configuration. The existing hadoop 2.x
       directory is also moved into the following directory:
       /opt/mapr/hadoop/OLD_HADOOP_VERSION.
