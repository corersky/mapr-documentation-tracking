Post-Upgrade Steps for Hive

   Complete the following steps after you upgrade Hive with or without the
   MapR Installer.
    1. Migrate Hive Configuration.
       Migrate any custom configuration settings into the Hive 2.3 version
       in the /opt/mapr/hive/hive-2.3/conf/ directory.
    2. Update the Hive Metastore.
       For upgrades from the old version of Hive to the new version, run
       the schematool command with the -upgradeSchema option.
       Note: Review and, if necessary, perform the steps described in
       [1]Troubleshooting Hive Upgrade Issues before running this command.
/opt/mapr/hive/hive-<version>/bin/schematool -dbType <metastore_database> -upgra
deSchema
       For example, for upgrades from Hive 2.1 to 2.3 on MySQL, run the
       following command:
/opt/mapr/hive/hive-2.3/bin/schematool -dbType mysql -upgradeSchema
    3. Run configure.sh -R.
/opt/mapr/server/configure.sh -R
       This step enables Warden to recognize the newly installed services.
    4. Verify that the metastore database update completed successfully.
       You can use the following diagnostic tests:
          + Run the show tables command in Hive and make sure it returns a
            complete list of all your Hive tables.
          + Perform simple SELECT operations on Hive tables that existed
            before the upgrade.
          + Perform filtered SELECT operations on Hive tables that existed
            before the upgrade.

References

   1. file://localhost/root/docsync/tmp/mapr.com/docs/home/UpgradeGuide/TroubleshootingHiveUpgradeIssues.html
