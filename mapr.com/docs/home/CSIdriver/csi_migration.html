Migrating from MapR Data Fabric for Kubernetes FlexVolume Driver to MapR
Container Storage Interface (CSI) Storage Plugin

   This section describes how to migrate from the MapR Data Fabric for
   Kubernetes FlexVolume driver to the MapR Container Storage Interface
   (CSI) Storage Plugin.

   Installing both the CSI Driver and FlexVolume Driver on the same
   Kubernetes cluster can lead to unstable Kubernetes environment. To
   migrate from the FlexVolume Driver to CSI Driver:
    1. Stop all the container workloads using the FlexVolume Driver and
       de-provision the FlexVolume Driver.
    2. Uninstall the FlexVolume Driver.
    3. Install the CSI Driver.
       For more information, see [1]Installing and Uninstalling the MapR
       Container Storage Interface (CSI) Storage Plugin.
    4. Modify the existing storage classes, PersistentVolumeClaims,
       PersistentVolumes, and Pod specs to refer to the CSI Driver as the
       default Driver.
    5. Resume the workloads you stopped (in step 1 above).

References

   1. file://localhost/root/docsync/tmp/mapr.com/docs/home/CSIdriver/csi_installation.html
