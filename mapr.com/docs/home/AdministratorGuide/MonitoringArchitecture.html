MapR Monitoring Architecture

   MapR Monitoring (a Spyglass initiative) integrates with open source
   components to collect, aggregate, store, and visualize metrics and
   logs.

Metric Monitoring Architecture

   To visualize cluster metrics, MapR Monitoring integrates with the
   following components:
   [SpyglassArchitecture_Metrics_Streams.png]

   collectd
          The collectd service runs on each node in the cluster to collect
          metrics. It uses streams to send the metrics to opentsdb. For
          more information, see [1]Metric Collection.

   OpenTSDB
          OpenTSDB aggregates the metrics and runs as the time-series
          database on top of MapR-DB, the metrics data store. Based on
          your cluster requirements, it runs on one or more nodes in the
          cluster.

   Grafana
          Grafana uses REST API to access metrics data from OpenTSDB.
          Using a single instance of Grafana, users can build custom
          dashboards or use sample dashboards to visualize the metric. For
          more information about dashboards, see [2]Metric Visualization.

Log Monitoring Architecture

   To visualize logs, MapR Monitoring integrates with the following
   components:
   [SpyglassArchitecture_Logs.png]

   fluentd
          fluentd runs on each node in the cluster to collect and parse
          logs. It uses REST API to send the logs to ElasticSearch. For
          more information, see [3]Log Collection.

   Elasticsearch
          Elasticsearch indexes the logs so that they are easily accessed
          and searchable. Based on your cluster requirements, it runs on
          one or more nodes in the cluster. For more information, see
          [4]Log Aggregation and Storage.

   Kibana
          Kibana uses REST API to access and search the logs available in
          Elasticsearch. Using a single instance of Kibana, users can
          create visualizations and dashboards to analyze their logs. For
          more information, see [5]Log Visualization.

References

   1. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdministratorGuide/MetricsCollections.html#concept_w3j_f44_vv
   2. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdministratorGuide/VisualizingMetrics.html#concept_fmk_bv5_vv
   3. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdministratorGuide/LogCollection.html#concept_nzr_bxh_cw
   4. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdministratorGuide/LogAggregationAndStorage.html#concept_wzf_rwy_kw
   5. file://localhost/root/docsync/tmp/mapr.com/docs/home/AdministratorGuide/VisualizingLogs.html#concept_hg5_qqb_1w
