Monitoring Multiple Instances of MapR-FS

   The various ways to monitor the health and performance of your cluster
   are described here. This section describes the commands you can run to
   perform some additional monitoring.

Determining the Number of Running Instances

   Run the following command to determine the number of instances actually
   running:
/opt/mapr/server/mrconfig info instances

   Your output will look similar to the following. This output shows that
   2 FileServer instances are running on ports 5660 and 5661.
[root@atsqa8c171 ~]# /opt/mapr/server/mrconfig info instances
2
5660 5661

   Alternatively, on large clusters, run the following command to:
     * Determine the number of configured instances:
# maprcli node list -columns numInstances
hostname           numInstances  ip
atsqa4-161.qa.lab  1             10.10.88.161
atsqa4-162.qa.lab  1             10.10.88.162
atsqa4-163.qa.lab  1             10.10.88.163
atsqa4-164.qa.lab  1             10.10.88.164
     * Determine the number of running instances reported by MFS to CLDB:
# maprcli node list -columns numReportedInstances
numReportedInstances  hostname           ip
2                     atsqa4-161.qa.lab  10.10.88.161
1                     atsqa4-162.qa.lab  10.10.88.162
1                     atsqa4-163.qa.lab  10.10.88.163
2                     atsqa4-164.qa.lab  10.10.88.164

Determining the Number of MFS Threads

   You can run the mrconfig info threads command to view MFS threads from
   all the instances. The output is tagged to identify the instance.
